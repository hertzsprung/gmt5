.TH BLOCKMEAN GMTMANSECTION DATE VERSION VERSION
.SH NAME
blockmean \- filter to block average (x,y,z) data by L2 norm
.SH SYNOPSIS
\fBblockmean\fP [ \fIxyz[w]file(s)\fP ] \fB\-I\fP\fIx_inc\fP[\fBm|c\fP][/\fIy_inc\fP[\fBm|c\fP]]  
\fB\-R\fP\fIwest/east/south/north\fP[\fBr\fP] [ \fB\-C\fP ] [ \fB\-F\fP ] [ \fB\-H\fP[\fInrec\fP] ] [ \fB\-S\fP[\fBw|z\fP] ] [ \fB\-V\fP ] 
[ \fB\-W\fP[\fBio\fP] ] [ \fB\-:\fP ] [ \fB\-bi\fP[\fBs\fP][\fIn\fP] ] [ \fB\-bo\fP[\fBs\fP][\fIn\fP] ] [ \fB\-f\fP[\fBi|o\fP]\fP\fIcolinfo\fP ]
.SH DESCRIPTION
\fBblockmean\fP reads arbitrarily located (x,y,z) triples [or optionally weighted
quadruples (x,y,z,w)] from standard input [or \fIxyz[w]file(s)\fP] and writes to standard output a mean position and
value for every non-empty block in a grid region defined by the \fB\-R\fP and \fB\-I\fP arguments.
Either \fBblockmean\fP, \fBblockmedian\fP, or \fBblockmode\fP should be used as a pre-processor before running \fBsurface\fP to avoid
aliasing short wavelengths.  These routines are also generally useful for decimating or averaging
(x,y,z) data.  You can modify the
precision of the output format by editing the \fBD_FORMAT\fP parameter in your .gmtdefaults4 file, or
you may choose binary input and/or output using single or double precision storage.
.TP
\fIxyz[w]file(s)\fP
3 [or 4] column ASCII file(s) [or binary, see \fB\-b\fP] holding (x,y,z[,w]) data values.  [w] is an optional weight for the data.
If no file is specified, \fBblockmean\fP will read from standard input.
#include "explain_-I.txt"
#include "explain_-R.txt"
.SH OPTIONS
.sp
.TP
.B \-C
Use the center of the block as the output location [Default uses the mean location].
.TP
.B \-F
Block centers have pixel registration. [Default:  grid registration.]  (Registrations are defined in 
\fBGMT\fP Cookbook Appendix B on grid file formats.)  Each block is the locus of points nearest the grid value 
location.  For example, with \fB\-R\fP10/15/10/15 and and \fB\-I\fP1:  with the \fB\-F\fP option 10 <= 
(x,y) < 11 is one of 25 blocks; without it 9.5 <= (x,y) < 10.5 is one of 36 blocks.
#include "explain_-H.txt"
Not used with binary data.
.TP
.B \-S
Use \fB\-Sz\fP to report the sum of all z-values inside a block, or \fB\-Sw\fP to report the
sum of weights [Default reports mean value]. If \fB\-Sw\fP is selected and no weights are
supplied (i.e., no \fB\-W\fP given), then the weight sum will equal the number of points
inside each block.
#include "explain_-V.txt"
.TP
.B \-W
Weighted modifier[s].  Unweighted input and output has 3 columns x,y,z; Weighted i/o has 4 columns x,y,z,w.
Weights can be used in input to construct weighted mean values in blocks.  Weight sums can be reported in
output for later combining several runs, etc.  Use \fB\-W\fP for weighted i/o, \fB\-Wi\fP for weighted input
only, \fB\-Wo\fP for weighted output only.  [Default uses unweighted i/o].
#include "explain_-t.txt"
#include "explain_-i_binary.txt"
#include "explain_-n.txt"
[Default is 3 (or 4 if \fB\-W\fP is set)].
#include "explain_-o_binary.txt"
#include "explain_-n.txt"
#include "explain_-f.txt"
#include "explain_precision.txt"
.SH EXAMPLES
.sp
To find 5 by 5 minute block mean values from the ASCII data in hawaii.xyg, run
.sp
\fBblockmean\fP hawaii.xyg \fB\-R\fP198/208/18/25 \fB\-I\fP5\fBm\fP > hawaii_5x5.xyg
.SH "SEE ALSO"
.IR blockmedian (GMTMANSECTION),
.IR blockmode (GMTMANSECTION),
.IR gmtdefaults (GMTMANSECTION),
.IR GMT (GMTMANSECTION),
.IR nearneighbor (GMTMANSECTION),
.IR surface (GMTMANSECTION),
.IR triangulate (GMTMANSECTION)
