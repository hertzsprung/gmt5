#include "common_options.txt"
.TH MGD77MAGREF 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
mgd77magref \- Evaluate the IGRF or CM4 magnetic field models
.SH SYNOPSIS
\fBmgd77magref\fP [ \fIinputfile\fP ] [ OPT(A)[\fB+a\fP\fIalt\fI\fB+t\fP\fIdate\fP\fB+y\fP] ] [ OPT(C)\fIcm4file\fP ] 
[ OPT(D)\fIDstfile\fP ] [ OPT(E)\fIf107file\fP ] [ OPT(F)\fIflags\fP ] [ OPT(G) ] [ GMT_H_OPT ] 
[ OPT(Sc)|\fBl\fP\fIlow/high\fP ] [ GMT_V_OPT ] [ GMT_t_OPT ] [ GMT_b_OPT ] [ GMT_f_OPT ] [ GMT_m_OPT ]
.SH DESCRIPTION
\fBmgd77magref\fP NOT FINISHED YET!!!.
.SH OPTIONS
No space between the option flag and the associated arguments.
.TP
\fIinputfile\fP
Contains the moments in space-time where we want to evaluate the magnetic reference field.  The first two columns must contain
longitude and latitude (however, see OPT(:) for latitude and longitude instead).  Normally, the third
and fourth columns must contain altitude and time, respectively, but if one or both of these are constant
for all records they can be supplied via the OPT(A) option instead and are thus not expected in the input
file.  If no input file is given we read \fIstdin\fP, unless a single point is given with OPT(P).
.TP
OPT(A)
Adjusts how the input record is interpreted.  Append \fB+a\fP to set a fixed \fIaltitude\fP that should
apply to all data records [Default expects \fIaltitude\fP to be in the 3rd column of all records].
Append \fB+t\fP to set a fixed \fItime\fP that should
apply to all data records [Default expects \fItime\fP to be in the 4th column of all records].
Finally, append \fB+y\fP to indicate that all times are specified as decimal years [Default is
ISO \fIdate\fPT\fIcolck\fP format].
.TP
OPT(C)
Specify an alternate CM4 coefficient file [umdl.CM4].
.TP
OPT(D)
Specify an alternate file with hourly means of the Dst index for CM4 [Dst_all.wdc].  Alternatively,
simply specify a single index to apply for all records.
.TP
OPT(E)
Specify an alternate file with monthly means of absolute F10.7 solar radio flux for CM4 [F107_mon.plt].  Alternatively,
simply specify a single flux to apply for all records.
.TP
OPT(F)
Selects output items; \fIflags\fP is a string made up of one or more of these characters:
.br
\fBr\fP means output all input columns before adding the items below (all in nTesla).
.br
\fBt\fP means list total field.
.br
\fBh\fP means list horizontal field.
.br
\fBx\fP means list X component.
.br
\fBy\fP means list Y component.
.br
\fBz\fP means list Z component.
.br
\fBd\fP means list declination.
.br
\fBi\fP means list inclination.
.br
Append one or more number to indicate the requested field contribution(s):
.br
\fB0\fP means IGRF field (no combinations allowed)
.br
\fB1\fP means Core field
.br
\fB2\fP means Lithospheric
.br
\fB3\fP Primary Magnetospheric field
.br
\fB4\fP Induced Magnetospheric field
.br
\fB5\fP Primary ionospheric field
.br
\fB6\fP Induced ionospheric field
.br
\fB7\fP Toroidal field
.br
Appending several numbers (1-7) will add up the different contributions. For example
OPT(Ft)/\fB12\fP computes the total field due to Core and Lithospheric sources.
Note that 0 (IGRF) cannot be combined with any other CM4 components.
The data is written out in the order they appear in \fIflags\fP [Default is OPT(Frthxyzdi)/\fB1\fP].
.TP
OPT(G)
Specifies that coordinates are geodetic [geocentric].
#include "explain_-H.txt"
.TP
OPT(Sc)
Limits the wavelengths of the core field contribution to the band indicated by the low and high spherical
harmonic order [1/13].
.TP
OPT(Sl)
Limits the wavelengths of the lithosphere field contribution to the band indicated by the low and high spherical
harmonic order [14/65].
.TP
OPT(U)
This option is as yet not described.
#include "explain_-V.txt"
#include "explain_-t.txt"
#include "explain_-bi.txt"
[Default is 4 input columns unless OPT(A) is used].
#include "explain_-bo.txt"
[Default is reflected by OPT(F)].
#include "explain_-m.txt"
.SH TIME SETTINGS
If binary input files are used then absolute time are stored as time relative to the selected epoch.
However, since the epoch used is not stored in the data files there can be problems decoding the
correct time.  The mgd77 supplement uses the Unix time system as its default; thus you should
make sure that binary data files with time uses the same system (see the GMT default TIME_SYSTEM).
.SH EXAMPLES
.SH "SEE ALSO"
.IR GMT (1)
.IR mgd77info (1)
.IR mgd77list (1)
.IR mgd77manage (1)
.IR mgd77track (1)
#include "refs.i"
"Comprehensive Modeling of the Geomagnetic Field", see
\fIhttp://denali.gsfc.nasa.gov/cm/\fP.
.br
"The International Geomagnetic Reference Field (IGRF)", see
\fIhttp://www.iugg.org/IAGA/iaga_pages/pubs_prods/igrf.htm\fP.
