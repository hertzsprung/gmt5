.TH GMTSELECT 1 DATE VERSION "Generic Mapping Tools"
#include "common_options.txt"
.SH NAME
gmtselect \- Select data subsets based on multiple spatial criteria 
.SH SYNOPSIS
\fBgmtselect\fP [ \fIinfiles\fP ] [ OPT(A)\fImin_area\fP[/\fImin_level/max_level\fP] ] 
[ OPT(C)[\fBf\fP]\fIdist/ptfile\fP ] [ OPT(D)\fIresolution\fP ] [ OPT(F)\fIpolygonfile\fP ] 
[ GMT_H_OPT ] [ OPT(I)[\fBcflrs\fP] ] [ GMT_J_OPT ] [ OPT(L)[\fBp\fP]\fIdist/linefile\fP ] [ GMT_M_OPT ] 
[ OPT(N)\fImaskvalues\fP[\fBo\fP] ] [ GMT_Rgeo_OPT ] [ GMT_V_OPT ] [ OPT(Z)\fImin/max\fP] ] 
[ GMT_t_OPT ] [ GMT_b_OPT ] [ GMT_f_OPT ]
.SH DESCRIPTION
\fBgmtselect\fP is a filter that reads (longitude, latitude) positions from the first 2 columns of
\fIinfiles\fP [or standard input] and uses a combination of 1-6 criteria to pass or reject the records.
Records can be selected based on whether or not they are 1) inside a rectangular region (OPT(R)
[and OPT(J)]), 2) within \fIdist\fP km of any point in \fIptfile\fP, 3) within \fIdist\fP km of
any line in \fIlinefile\fP, 4) inside one of the polygons in the \fIpolygonfile\fP, 5) inside
geographical features (based on coastlines), or 6) has z-values within a given range.
The sense of the tests can be reversed for each of these 6 criteria by using the OPT(I) option.
See option \fB\-:\fP on how to read (latitude,longitude) files.
.TP
\fIinfiles\fP
ASCII (or binary, see OPT(b)) data file(s) to be operated on.  If not given, standard input is read.
.SH OPTIONS
No space between the option flag and the associated arguments.
.TP
.B \-A
Ignored unless \fB\-N\fP is set.  Geographical features with an area smaller than \fImin_area\fP
in km^2 or of hierarchical level that is lower than \fImin_level\fP or higher than \fImax_level\fP
will be ignored [Default is 0/4 (all features)]. See DATABASE INFORMATION in the \fBpscoast\fP man-pages for more details.
.TP
.B \-C
Pass all records whose location is within \fIdist\fP of any of the points in the ASCII file \fIptfile\fP.
If \fIdist\fP is zero then the 3rd column of \fIptfile\fP must have each point's\"' individual radius of influence.
Distances are Cartesian and in user units; specify OPT(fg) to indicate spherical distances in km.
Use OPT(Cf) to indicate you want flat Earth distances (quicker but approximate) rather than
geodesic distances (slower but exact).
If \fBELLIPSOID\fP is Sphere then geodesics become great circles (faster to compute than geodesic).
Alternatively, if OPT(R) and OPT(J) are used then geographic coordinates are projected to map coordinates
(in cm, inch, m, or points, as determined by \fBMEASURE_UNIT\fP) before Cartesian distances are compared to \fIdist\fP.
.TP
.B \-D
Ignored unless \fB\-N\fP is set.  Selects the resolution of the coastline data set to use ((\fBf\fP)ull, (\fBh\fP)igh, (\fBi\fP)ntermediate, (\fBl\fP)ow, or (\fBc\fP)rude).  The
resolution drops off by ~80% between data sets. [Default is \fBl\fP].  Note that because the coastlines differ in details it is not guaranteed that a point will remain inside [or outside] when a different resolution is selected.
.TP
.B \-F
Pass all records whose location is within one of the closed polygons in the multiple-segment
file \fIpolygonfile\fP.  For spherical polygons (lon, lat), make sure no consecutive points
are separated by 180 degrees or more in longitude.  Note that \fIpolygonfile\fP must be in ASCII regardless
of whether \fB\-b\fP is used.
#include "explain_-H.txt"
.TP
.B \-I
Reverses the sense of the test for each of the criteria specified:
.br
	\fBc\fP  select records NOT inside any point's circle of influence.\"'
.br
	\fBf\fP  select records NOT inside any of the polygons.
.br
	\fBl\fP  select records NOT within the specified distance of any line.
.br
	\fBr\fP  select records NOT inside the specified rectangular region.
.br
	\fBs\fP  select records NOT considered inside as specified by \fB\-A, \-D, \-N\fP.
.br
	\fBz\fP  select records NOT within the range specified by \fB\-Z\fP.
#include "explain_-J_short.txt"
.TP
.B \-L
Pass all records whose location is within \fIdist\fP of any of the line segments in the ASCII multiple-segment
file \fIlinefile\fP.  If \fIdist\fP is zero then the 2nd column of each
sub-header in the \fIptfile\fP must have each lines's individual distance value.\"'
Distances are Cartesian and in user units; specify OPT(fg) to indicate spherical distances in km.
Alternatively, if OPT(R) and OPT(J) are used then geographic coordinates are projected to map coordinates
(in cm, inch, m, or points, as determined by \fBMEASURE_UNIT\fP) before Cartesian distances are compared to \fIdist\fP.
Use \fB\-Lp\fP to ensure only points whose orthogonal projections onto the nearest line-segment
fall within the segments endpoints [Default considers points "beyond" the line's endpoints.\"'
#include "explain_-M.txt"
.TP
.B \-N
Pass all records whose location is inside specified geographical features.
Specify if records should be skipped (s) or kept (k) using 1 of 2 formats:
.br
	\fB\-N\fP\fIwet/dry\fP.
.br
	\fB\-N\fP\fIocean/land/lake/island/pond\fP.
.br
Append \fBo\fP to let points exactly on feature boundaries be considered outside the feature [Default is inside]. [Default is s/k/s/k/s (i.e., s/k), which passes all points on dry land].
.TP
.B \-Z
Pass all records whose 3rd colum (z) lies within the given range.  Input file must have at least
three columns.  To indicate no limit on min or max, specify a hyphen (-).
#include "explain_-R.txt"
If no map projection is supplied we implicitly set \fB\-Jx\fP1.
#include "explain_-V.txt"
#include "explain_-t.txt"
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-bo.txt"
[Default is same as input].
#include "explain_-f.txt"
#include "explain_precision.txt"
.SH NOTE ON DISTANCES
If options OPT(C) or OPT(L) are selected then distances are Cartesian and in user units;
use OPT(fg) to imply spherical distances in km and geographical (lon, lat) coordinates.
Alternatively, specify OPT(R) and OPT(J) to measure projected Cartesian distances in map units
(cm, inch, m, or points, as determined by \fBMEASURE_UNIT\fP).
.br
This program has evolved over the years.  Originally, the OPT(R) and OPT(J) were mandatory in order
to handle geographic data, but now there is full support for spherical calculations.  Thus, OPT(J)
should only be used if you want the tests to be applied on projected data and not the original
coordinates.  If OPT(J) is used the distances given via OPT(C) and OPT(L) are projected distances.
.SH EXAMPLES
To extract the subset of data set that is within 300 km of any of the points in pts.d but more than
100 km away from the lines in lines.d, run
.br
.sp
\fBgmtselect\fP lonlatfile \fB\-fg\fP \fB\-C\fP300/pts.d \fB\-L\fP100/lines.d \fB\-Il\fP > subset
.br
.sp
Here, you must specify \fB\-fg\fP so the program knows you are processing geographical data (otherwise
300 would be interpreted as Cartesian distance in x-y units instead of km).
.br
.sp
To keep all points in data.d within the specified region, except the points on land (as determined by the high-resolution
coastlines), use
.br
.sp
\fBgmtselect\fP data.d \fB\-R\fP120/121/22/24 \fB\-Dh\fP \fB\-Ns\fP/\fBk\fP > subset
.br
.sp
To return all points in quakes.d that are inside the spherical polygon lonlatpath.d, try
.br
.sp
\fBgmtselect\fP quakes.d \fB\-F\fPlonlatpath.d \fB\-fg\fP > subset1
.br
.sp
To return all points in stations.d that are within 5 cm of the point in origin.d for a certain projection, try
.br
.sp
\fBgmtselect\fP stations.d \fB\-F\fPorigin.d OPT(R)20/50/-10/20 OPT(JM)20c > subset2
.SH "SEE ALSO"
.IR gmtdefaults (1),
.IR GMT (1),
.IR grdlandmask (1),
.IR pscoast (1)
