#include "common_options.txt"
.TH GRDOKB 1 MANDATE GMT_STRING "Generic Mapping Tools [potential supplement]"
.SH NAME
grdgravmag3d \- Compute the gravity effect of a grid by the method of Okabe
.SH SYNOPSIS
BD(grdgravmag3d) [ OPT(C)IT(density) ]
[ OPT(D) ] [ OPT(F)IT(xy_file) ] [ OPT(G)IT(outputgrid.nc) ] 
[ OPT(L)IT(z_observation) ] 
[ OPT(M) ] GMT_Rgeo_OPT [ OPT(S)IT(radius) ] 
[ OPT(Z)IT(level) ] [ GMT_V_OPT ] [ OPT(fg) ]
.SH DESCRIPTION
BD(grdgravmag3d) will compute the gravity anomaly of a body described by one or (optionally) two grids
The output can either be along a given set of xy locations or on a grid. This method is not particularly fast 
but allows computing the anomaly of arbitrarily complex shapes.
#include "explain_commonitems.txt"
.SH REQUIRED ARGUMENTS
.TP
OPT(C)IT(density)
Sets body density in SI. This option is mutually exclusive with OPT(H).
.TP
OPT(F)IT(xy_file)
Provide locations where the anomaly will be computed. Note this option is mutually 
exlusive with OPT(G).
.TP
OPT(G)IT(outgrid.nc)
Output the gravity anomaly at nodes of this grid file.
#include "explain_-R.txt"
.SH OPTIONAL ARGUMENTS
#include "explain_-V.txt"
.TP
OPT(L)
sets level of observation [Default = 0]. That is the height (z) at which anomalies are computed. 
.TP
OPT(M)
Map units TRUE; x,y in degrees, dist units in m. [Default dist unit = x,y unit] 
.TP
OPT(Z)
level of reference plane [Default = 0]. Use this option when the triangles describe a non-closed surface and the volume is deffined from each triangle and this reference level. An example will be the whater depth to compute a Bouguer anomaly.
.TP
OPT(fg)
Geographic grids (dimensions of longitude, latitude) will be converted to meters via a "Flat Earth" approximation
using the current ellipsoid parameters.
#include "explain_help.txt"
.SH GRID DISTANCE UNITS
If the grid does not have meter as the horizontal unit, supply BD(+u)IT(unit) to the input file name to convert from the
specified unit to meter.  If your grid is geographic, convert distances to meters by supplying OPT(fg) instead.
.SH EXAMPLES
Suppose you want to compute the gravity effect of the phantom "Sandy Island" together with its not phantom seamount 
.br
.sp
grdgravmag3d sandy_bat.grd -C1700 -Z-4300 -M -I1m -Gsandy_okb.grd -V
.SH "SEE ALSO"
.IR GMT
.IR GMTGRAVMAG3D

.SH REFERENCE
Okabe, M., Analytical expressions for gravity anomalies due to polyhedral bodies and translation into 
magnetic anomalies, \fIGeophysics\fP, 44, (1979), p 730-741.
