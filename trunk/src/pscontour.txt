#include "common_options.txt"
.TH PSCONTOUR 1 MANDATE GMT_STRING "Generic Mapping Tools"
#define LEN_L 0.5
#define SCALE_L OPT(Jl)18/24/0.5BD(i)
.SH NAME
pscontour \- Contour xyz-data by direct triangulation [method]
.SH SYNOPSIS
BD(pscontour) IT(xyzfile) OPT(C)IT(cptfile) GMT_J_OPT GMT_Rgeoz_OPT 
[ OPT(A)[BD(-)][IT(labelinfo)] ] [ GMT_B_OPT ] [ OPT(D)[IT(template)] ]
[ GMT_CONTG ] [ OPT(I) ] [ GMT_Jz_OPT ] [ GMT_K_OPT ] 
[ OPT(L)IT(pen) ] [ OPT(N) ] [ GMT_O_OPT ] [ GMT_P_OPT ] [ OPT(Q)IT(indexfile) ] 
[ OPT(S) ] [ OPT(T)[BD(+|-)][IT(gap/length)][BD(:)[IT(labels)]] ] [ GMT_U_OPT ] 
[ GMT_V_OPT ] [ OPT(W)[BD(+)]IT(pen) ] [ GMT_X_OPT ] 
[ GMT_Y_OPT ] [ GMT_b_OPT ] [ GMT_c_OPT ] [ GMT_h_OPT ] [ GMT_i_OPT ] [ GMT_p_OPT ] [ GMT_t_OPT ] [ GMT_colon_OPT ]
.SH DESCRIPTION
BD(pscontour) reads an ASCII [or binary] xyz-file and produces a raw contour plot by triangulation.  By default, the
optimal Delaunay triangulation is performed (using either Shewchuk's [1996]\"'
or Watson's [1982] method as selected during BD(GMT) installation; type
BD(pscontour \-) to see which method is selected), but the user\"'
may optionally provide a second file with
network information, such as a triangular mesh used for finite element modeling.  In addition to contours,
the area between contours may be painted according to
the color palette file.  Alternatively, the x/y/z positions of the contour lines may be saved to
one or more output files (or stdout) and no plot is produced.
.SH REQUIRED ARGUMENTS
.TP
IT(xyzfile)
Raw ASCII (or binary, see OPT(b)) xyz data to be contoured.
.TP
OPT(C)IT(cptfile)
name of the color palette file.  Must have discrete colors if you want to paint the
surface (OPT(I)).  Only contours that have annotation flags set will be annotated.
#include "explain_-J.txt"
#include "explain_-R.txt"
#include "explain_-Rz.txt"
.SH OPTIONAL ARGUMENTS
No space between the option flag and the associated arguments.
.TP
OPT(A)[BD(-)][IT(labelinfo)]
Give - to disable all annotations.
The optional IT(labelinfo) controls the specifics of the label formatting and consists of a concatenated string
made up of any of the following control arguments:
.br
#include "explain_labelinfo.txt"
#include "explain_-B.txt"
.TP
OPT(D)[IT(template)]
#include "explain_contdump.txt"
#define CONTOUR
.TP
OPT(G)
#include "explain_contlabel.txt"
.TP
OPT(I)
Color the triangles using the color palette table.
#include "explain_-Jz.txt"
#include "explain_-K.txt"
.TP
OPT(L)IT(pen)
Draw the underlying triangular mesh using the specified pen attributes [Default is no mesh].
(See SPECIFYING PENS below).
.TP
OPT(N)
Do NOT clip contours or image at the boundaries [Default will clip to fit inside region OPT(R)].
#include "explain_-O.txt"
#include "explain_-P.txt"
.TP
OPT(Q)IT(indexfile)
Give name of file with network information.  Each record must contain triplets of
node numbers for a triangle [Default computes these using Delaunay triangulation (see BD(triangulate))].
.TP
OPT(S)
Skip all input IT(xyz) points that fall outside the region [Default uses all the data in the triangulation].
.TP
OPT(T)[BD(+|-)][IT(gap/length)][BD(:)[IT(labels)]]
Will draw tickmarks pointing in the downward direction every IT(gap) along the innermost closed contours.
Append IT(gap) and tickmark length (append units as BD(c), BD(i), or BD(p)) or use defaults [15BD(p)/3BD(p)].
User may choose to tick only local highs or local lows by specifying OPT(T+) or OPT(T\-), respectively.
Append BD(:)IT(labels) to annotate the centers of closed innermost contours (i.e, the local lows and highs).
If no IT(labels) is appended we use - and + as the labels.
Appending two characters, BD(:LH), will plot the two characters (here, L and H) as labels.  For more
elaborate labels, separate the two label strings by a comma (e.g., BD(:)IT(lo),IT(hi)).
If a file is given by OPT(C) and OPT(T) is set, 
then only contours marked with upper case C or A will have tickmarks [and annotation].
#include "explain_-U.txt"
#include "explain_-V.txt"
.TP
OPT(W)[BD(+)]IT(pen)
Select contouring and set contour pen attributes.
(See SPECIFYING PENS below).
If the BD(+) flag is prepended then the color of the contour lines are taken from the cpt file (see OPT(C)).
If the BD(-) flag is prepended then the color from the cpt file is applied both to the contours and the contour annotations.
#include "explain_-XY.txt"
#include "explain_-bi.txt"
[Default is 3 input columns].
Use 4-byte integer triplets for node ids (OPT(Q)).
#include "explain_-bo.txt"
[Default is 3 output columns].
#include "explain_-c.txt"
#include "explain_-h.txt"
#include "explain_-icols.txt"
#include "explain_colon.txt"
#include "explain_perspective.txt"
#include "explain_-t.txt"
#include "explain_help.txt"
#include "explain_pen.txt"
#include "explain_font.txt"
#include "explain_color.txt"
.SH EXAMPLES
To make a raw contour plot from the file topo.xyz and drawing the contours (pen = 2)
given in the color palette file topo.cpt on a Lambert map
at LEN_L inch/degree along the standard parallels 18 and 24, use 
.br
.sp
BD(pscontour) topo.xyz OPT(R)320/330/20/30 SCALE_L OPT(C)topo.cpt OPT(W)0.5BD(p) > topo.ps
.br
.sp
To create a color IT(PostScript) plot of the numerical temperature solution obtained on a triangular mesh
whose node coordinates and temperatures are stored in temp.xyz and mesh arrangement is given by the file mesh.ijk, using
the colors in temp.cpt, run
.br
.sp
BD(pscontour) temp.xyz OPT(R)0/150/0/100 OPT(Jx)0.1 OPT(C)temp.cpt OPT(G) OPT(W)0.25BD(p) > temp.ps
.SH BUGS
Sometimes there will appear to be thin lines of the wrong color in the image.
This is a round-off problem which may be remedied by using a higher value of
BD(PS_DPI) in the BD(gmt.conf) file.
.br
To save the triangulated 100-m contour lines in topo.txt and separate them into  multisegment files
(one for each contour level), try 
.br
.sp
BD(pscontour) topo.txt OPT(C)100 OPT(D)contours_%.0f.txt
.SH "SEE ALSO"
.IR gmt (1),
.IR gmt.conf (5),
.IR gmtcolors (5),
.IR grdcontour (1),
.IR grdimage (1),
.IR nearneighbor (1),
.IR psbasemap (1),
.IR psscale (1),
.IR surface (1),
.IR triangulate (1)
.SH REFERENCES
Watson, D. F., 1982, Acord: Automatic contouring of raw data, IT(Comp. & Geosci.), BD(8), 97\-101.
.br
Shewchuk, J. R., 1996, Triangle: Engineering a 2D Quality Mesh Generator
and Delaunay Triangulator, First Workshop on Applied Computational Geometry
(Philadelphia, PA), 124-133, ACM, May 1996.
.br
www.cs.cmu.edu/~quake/triangle.html
