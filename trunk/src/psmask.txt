#include "common_options.txt"
.TH PSMASK 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
psmask \- To clip or mask areas of no data on a map
.SH SYNOPSIS
\fBpsmask\fP [\fIxyzfile\fP] GMT_I_OPT GMT_J_OPT GMT_Rgeo_OPT [ GMT_B_OPT ]  
[ OPT(D)\fIdumpfile\fP ] [ OPT(E)\fIazimuth\fP/\fIelevation\fP ] [ OPT(F) ] 
[ OPT(G)\fIfill\fP ] [ GMT_H_OPT ] [ GMT_K_OPT ] [ GMT_Mo_OPT ] [ OPT(N) ] [ GMT_O_OPT ] 
[ GMT_P_OPT ] [ OPT(S)\fIsearch_radius\fP[\fBm\fP|\fBc\fP|\fBk\fP|\fBK\fP] ] [ OPT(T) ] [ GMT_U_OPT ] 
[ GMT_V_OPT ] [ GMT_X_OPT ] [ GMT_Y_OPT ] [ GMT_c_OPT ]  [ GMT_t_OPT ] [ GMT_bi_OPT ]
.br
.sp
\fBpsmask\fP OPT(C) [ GMT_K_OPT ] [ GMT_O_OPT ]
.SH DESCRIPTION
\fBpsmask\fP reads a (\fIx\fP,\fIy\fP,\fIz\fP) file [or standard input] and uses this information to find out
which grid cells are reliable.  Only gridcells which have one or more data points are considered
reliable.  As an option, you may specify a radius of influence. Then, all gridcells that are
within \fIradius\fP of a data point are considered reliable.  Furthermore, an option is provided to
reverse the sense of the test.  Having found the reliable/not reliable points, \fBpsmask\fP will
either paint tiles to mask these nodes (with the OPT(T) switch), or use contouring to create
polygons that will clip out regions of no interest.  When clipping is initiated, it will stay in
effect until turned off by a second call to \fBpsmask\fP using the OPT(C) option.
.TP
\fIxyzfile\fP
File with (\fIx\fP,\fIy\fP,\fIz\fP) values (e.g., that was used to run \fBsurface\fP).  If no file
is given, standard input is read.  For binary files, see OPT(b).
#include "explain_-I.txt"
#include "explain_-J_short.txt"
#include "explain_-R.txt"
.SH OPTIONS
No space between the option flag and the associated arguments.
#include "explain_-B_short.txt"
.TP
.B \-C
Mark end of existing clip path.  No input file is needed.  Implicitly sets \fB\-O\fP.
.TP
.B \-D
Dumps out the resulting clipping polygons to disk.  Ignored if \fB\-T\fP is set.
If no dumpprefix is given we use mask (Files will be called mask_*.d).
.TP
.B \-E
Sets the viewpoint's azimuth and elevation for perspective plots [180/90].\"'
#include "explain_nodereg.txt"
.TP
.B \-G
Paint the clip polygons (or tiles) with a selected fill [Default is no fill].
(See SPECIFYING FILL below).
#include "explain_-H.txt"
Not used with binary data.
#include "explain_-K.txt"
#include "explain_-M.txt"
.TP
.B \-N
Invert the sense of the test, i.e. clip regions where there is data coverage.
#include "explain_-O.txt"
#include "explain_-P.txt"
.TP
.B \-S
Sets radius of influence. Grid nodes within \fIradius\fP of a data point are considered reliable. [Default is 0, which
means that only grid cells with data in them are reliable].  Append \fBm\fP to indicate minutes
or \fBc\fP to indicate seconds.  Append \fBk\fP to indicate km (implies \fB\-R\fP and \fB\-I\fP are in degrees, and
we will use a fast flat Earth approximation to calculate distance).  For more accuracy, use uppercase \fBK\fP
if distances should be calculated along geodesics.
However, if the current \fBELLIPSOID\fP is set to Sphere then spherical great circle calculations are used.
.TP
.B \-T
Plot tiles instead of clip polygons.  Use \fB\-G\fP to set tile color or pattern.
#include "explain_-U.txt"
#include "explain_-V.txt"
#include "explain_-XY.txt"
#include "explain_-t.txt"
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-c.txt"
#include "explain_fill.txt"
#include "explain_color.txt"
.SH EXAMPLES
To make an overlay \fIPostScript\fP file that will mask out the regions of a contour map
where there is no control data using clip polygons, use:
.br
.sp
\fBpsmask\fP africa_grav.xyg \fB\-R\fP20/40/20/40 \fB\-I\fP5\fBm \-J\fPM10\fBi\fP \fB\-O \-K\fP > mask.ps
.br
.sp
The same example but this time we use white tiling:
.br
.sp
\fBpsmask\fP africa_grav.xyg \fB\-R\fP20/40/20/40 \fB\-I\fP5\fBm \-J\fPM10\fBi\fP \fB\-T \-O \-K \-G\fPwhite > mask.ps
.SH "SEE ALSO"
.IR GMT (1),
.IR grdmask (1),
.IR surface (1),
.IR psbasemap (1),
.IR psclip (1)
