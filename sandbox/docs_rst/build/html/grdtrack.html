

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>grdtrack &mdash; GMT5 v0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="GMT5 v0 documentation" href="index.html" />
    <link rel="up" title="Mains" href="mains.html" />
    <link rel="next" title="grdtrend" href="grdtrend.html" />
    <link rel="prev" title="grdsample" href="grdsample.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="grdtrend.html" title="grdtrend"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="grdsample.html" title="grdsample"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GMT5 v0 documentation</a> &raquo;</li>
          <li><a href="mains.html" accesskey="U">Mains</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="grdtrack">
<h1>grdtrack<a class="headerlink" href="#grdtrack" title="Permalink to this headline">¶</a></h1>
<p>grdtrack - Sample grids at specified (x,y) locations</p>
<div class="section" id="id1">
<h2><a class="reference external" href="#toc1">Synopsis</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><strong>grdtrack</strong> [ <em>xyfile</em> ] <strong>-G</strong><em>grd1</em> <strong>-G</strong><em>grd2</em> ... [
<strong>-A</strong><strong>m</strong>|<strong>p</strong> ] [
<strong>-C</strong><em>length</em>/<em>ds</em>[<em>spacing</em>][<strong>+a</strong>] ] [ <strong>-D</strong><em>dfile</em> ] [
<strong>-L</strong><em>flag</em> ] [ <strong>-N</strong> ] [
<strong>-R</strong><em>west</em>/<em>east</em>/<em>south</em>/<em>north</em>[<strong>r</strong>] ] [
<strong>-S</strong><em>method</em>/<em>modifiers</em> ][ <strong>-V</strong>[<em>level</em>] ] [ <strong>-Z</strong> ] [
<strong>-b</strong>[<em>ncol</em>][<strong>t</strong>][<strong>+L</strong>|<strong>+B</strong>] ] [
<strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> ] [
<strong>-g</strong>[<strong>a</strong>]<strong>x</strong>|<strong>y</strong>|<strong>d</strong>|<strong>X</strong>|<strong>Y</strong>|<strong>D</strong>|[<em>col</em>]<strong>z</strong>[+|-]<em>gap</em>[<strong>u</strong>]
] [ <strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>] ] [
<strong>-i</strong><em>cols</em>[<strong>l</strong>][<strong>s</strong><em>scale</em>][<strong>o</strong><em>offset</em>][,<em>...</em>]
] [
<strong>-n</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>][<strong>+t</strong><em>threshold</em>]
] [ <strong>-o</strong><em>cols</em>[,*...*] ] [ <strong>-s</strong>[<em>cols</em>][<strong>a</strong>|<strong>r</strong>]
] [ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ]</p>
</div>
<div class="section" id="id2">
<h2><a class="reference external" href="#toc2">Description</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong>grdtrack</strong> reads one or more grid files (or a Sandwell/Smith IMG
files) and a table (from file or standard input) with (x,y) [or
(lon,lat)] positions in the first two columns (more columns may be
present). It interpolates the grid(s) at the positions in the table and
writes out the table with the interpolated values added as (one or more)
new columns. Alternatively (<strong>-C</strong>), the input is considered to be
line-segments and we create orthogonal cross-profiles at each data point
or with an equidistant separation and sample the grid(s) along these
profiles. A bicubic [Default], bilinear, B-spline or nearest-neighbor
(see <strong>-n</strong>) interpolation is used, requiring boundary conditions at the
limits of the region (see <strong>-L</strong>).</p>
</div>
<div class="section" id="id3">
<h2><a class="reference external" href="#toc3">Common Arguments And Specifications</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>All options marked with an asterisk (*) are common GMT command-line
options. Their full syntax as well as how to specify pens, pattern
fills, colors, and fonts can be found in the <strong>gmt</strong> man page. Note: No
space is allowed between the option flag and the associated arguments.</p>
</div>
<div class="section" id="id4">
<h2><a class="reference external" href="#toc4">Required Arguments</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>-G</strong><em>gridfile</em></dt>
<dd><em>grdfile</em> is a 2-D binary grid file with the function f(x,y). If the
specified grid is in Sandwell/Smith Mercator format you must append
a comma-separated list of arguments that includes a scale to
multiply the data (usually 1 or 0.1), the mode which stand for the
following: (0) Img files with no constraint code, returns data at
all points, (1) Img file with constraints coded, return data at all
points, (2) Img file with constraints coded, return data only at
constrained points and NaN elsewhere, <a class="reference external" href="and.html">and (3)</a> Img file
with constraints coded, return 1 at constraints and 0 elsewhere, and
optionally the max latitude in the IMG file [80.738]. You may repeat
<strong>-G</strong> as many times as you have grids you wish to sample. The grids
are sampled and results are output in the order given. (See GRID
FILE FORMAT below.)</dd>
</dl>
</div>
<div class="section" id="id5">
<h2><a class="reference external" href="#toc5">Optional Arguments</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><em>xyfile</em></dt>
<dd>This is an ASCII (or binary, see <strong>-bi</strong>[<em>ncols</em>][<em>type</em>])
file where the first 2 columns hold the (x,y) positions where the
user wants to sample the 2-D data set.</dd>
<dt><strong>-A</strong><strong>m</strong>|<strong>p</strong></dt>
<dd>For spherical surface resampling we resample along great circle
arcs. Alternatively, use <strong>-Am</strong> to resample by first following a
meridian, then a parallel. Or use <strong>-Ap</strong> to start following a
parallel, then a meridian. (This can be practical for resampling
lines along parallels, for example). Ignored unless <strong>-C</strong> is used.</dd>
<dt><strong>-C</strong><em>length</em><strong>/</strong><em>ds</em>[<strong>/</strong><em>spacing</em>]</dt>
<dd>Use input line segments to create an equidistant and (optionally)
equally-spaced set of crossing profiles along which we sample the
grid(s) [Default simply samples the grid(s) at the input locations].
Specify two length scales that control how the sampling is done:
<em>length</em> sets the full length of each cross-profile, while <em>ds</em> is
the distance increment along each cross-profile. Optionally, append
<strong>/</strong><em>spacing</em> for an equidistant spacing between cross-profiles
[Default erects cross-profiles at the input coordinates]. By
default, all cross-profiles have the same direction. Append <strong>+a</strong>
to alternate the direction of cross-profiles. Append suitable units
for each length scale (See UNITS below). The output columns will be
<em>lon</em>, <em>lat</em>, <em>dist</em>, <em>azimuth</em>, <em>z1</em>, <em>z2</em>, ... (sampled value for
each grid)</dd>
<dt><strong>-D</strong><em>dfile</em></dt>
<dd>In concert with <strong>-C</strong> we can save the (possibly resampled) original
lines to the file <em>dfile</em> [Default only saves the cross-profiles].
The columns will be <em>lon</em>, <em>lat</em>, <em>dist</em>, <em>azimuth</em>, <em>z1</em>, <em>z2</em>, ...
(sampled value for each grid)</dd>
<dt><strong>-L</strong><em>flag</em></dt>
<dd>Boundary condition <em>flag</em> may be <em>x</em> or <em>y</em> or <em>xy</em> indicating data
is periodic in range of x or y or both set by <strong>-R</strong>, or <em>flag</em> may
be <em>g</em> indicating geographical conditions (x and y are lon and lat).
[Default uses &#8220;natural&#8221; conditions (second partial derivative normal
to edge is zero) unless the grid is automatically recognized as
periodic.]</dd>
<dt><strong>-N</strong></dt>
<dd>Do <em>not</em> skip points that fall outside the domain of the grid(s)
[Default only output points within grid domain].</dd>
<dt><strong>-R</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>r</strong>] (*)</dt>
<dd>Specify the region of interest.</dd>
<dt><strong>-S</strong><em>method</em>/<em>modifiers</em></dt>
<dd>In conjunction with <strong>-C</strong>, compute a single stacked profile from
all profiles across each segment. Append how stacking should be
computed: <strong>a</strong> = mean (average), <strong>m</strong> = median, <strong>p</strong> = mode
(maximum likelihood), <strong>l</strong> = lower, <strong>L</strong> = lower but only consider
positive values, <strong>u</strong> = upper, <strong>U</strong> = upper but only consider
negative values [<strong>a</strong>]. The <em>modifiers</em> control the output;
choose one or more among these choices: <strong>+a</strong> : Append stacked
values to all cross-profiles. <strong>+d</strong> : Append stack deviations to
all cross-profiles. <strong>+d</strong> : Append data residuals (data - stack) to
all cross-profiles. <strong>+s</strong>[<em>file</em>] : Save stacked profile to
<em>file</em> [grdtrack_stacked_profile.txt]. <strong>+c</strong><em>fact</em> : Compute
envelope on stacked profile as +/- <em>fact</em>*<em>deviation</em> [2].
Notes: (1) Deviations depend on <em>method</em> and are st.dev (<strong>a</strong>), L1
scale (<strong>e</strong> and <strong>p</strong>), or half-range (upper-lower)/2. (2) The
stacked profile file contains 1 plus groups of 4-6 columns, one
group for each sampled grid. The first column holds cross distance,
while the first 4 in a group hold stacked value, deviation, min
value, and max value. If <em>method</em> is one of
<strong>a</strong>|<strong>m</strong>|<strong>p</strong> then we also write the lower and upper
confidence bounds (see <strong>+c</strong>). When one or more of <strong>+a</strong>, <strong>+d</strong>,
and <strong>+r</strong> are used then we append the results to the end of each
row for all cross-profiles. The order is always stacked value
(<strong>+a</strong>), followed by deviations (<strong>+d</strong>) and residuals (<strong>+r</strong>).
When more than one grid is sampled this sequence of 1-3 columns are
repeated for each grid.</dd>
<dt><strong>-V</strong>[<em>level</em>] (*)</dt>
<dd>Select verbosity level [c].</dd>
<dt><strong>-Z</strong></dt>
<dd>Only write out the sampled z-values [Default writes all columns].</dd>
<dt><strong>-:</strong></dt>
<dd>Toggles between (longitude,latitude) and (latitude,longitude)
input/output. [Default is (longitude,latitude)].</dd>
<dt><strong>-bi</strong>[<em>ncols</em>][<em>type</em>] (*)</dt>
<dd>Select binary input. [Default is 2 input columns].</dd>
<dt><strong>-bo</strong>[<em>ncols</em>][<em>type</em>] (*)</dt>
<dd>Select binary output. [Default is one more than input].</dd>
<dt><strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> (*)</dt>
<dd>Specify data types of input and/or output columns.</dd>
</dl>
<p><strong>-g</strong>[<strong>a</strong>]<strong>x</strong>|<strong>y</strong>|<strong>d</strong>|<strong>X</strong>|<strong>Y</strong>|<strong>D</strong>|[<em>col</em>]<strong>z</strong>[+|-]<em>gap</em>[<strong>u</strong>]
(*)</p>
<blockquote>
<div>Determine data gaps and line breaks.</div></blockquote>
<dl class="docutils">
<dt><strong>-h</strong>[<strong>i</strong>|<strong>o</strong>][<em>n</em>] (*)</dt>
<dd>Skip or produce header record(s).</dd>
<dt><strong>-i</strong><em>cols</em>[<strong>l</strong>][<strong>s</strong><em>scale</em>][<strong>o</strong><em>offset</em>][,<em>...</em>](*)</dt>
<dd>Select input columns.</dd>
</dl>
<p><strong>-n</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][<strong>+a</strong>][<strong>+b</strong><em>BC</em>][<strong>+t</strong><em>threshold</em>]
(*)</p>
<blockquote>
<div>Select interpolation mode for grids.</div></blockquote>
<dl class="docutils">
<dt><strong>-o</strong><em>cols</em>[,*...*] (*)</dt>
<dd>Select output columns.</dd>
<dt><strong>-s</strong>[<em>cols</em>][<strong>a</strong>|<strong>r</strong>] (*)</dt>
<dd>Set handling of NaN records.</dd>
<dt><strong>-^</strong> (*)</dt>
<dd>Print a short message about the syntax of the command, then exits.</dd>
<dt><strong>-?</strong> (*)</dt>
<dd>Print a full usage (help) message, including the explanation of
options, then exits.</dd>
<dt><strong>&#8211;version</strong> (*)</dt>
<dd>Print GMT version and exit.</dd>
<dt><strong>&#8211;show-sharedir</strong> (*)</dt>
<dd>Print full path to GMT share directory and exit.</dd>
</dl>
</div>
<div class="section" id="id6">
<h2><a class="reference external" href="#toc6">Units</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>For map distance units, append <em>unit</em> <strong>d</strong> for arc degrees, <strong>m</strong> for
arc minutes, and <strong>s</strong> for arc seconds, or <strong>e</strong> for meters [Default],
<strong>f</strong> for feet, <strong>k</strong> for km, <strong>M</strong> for statute miles, and <strong>n</strong> for
nautical miles. By default we compute such distances using a spherical
approximation with great circles. Prepend <strong>-</strong> to a distance (or the
unit is no distance is given) to perform &#8220;Flat Earth&#8221; calculations
(quicker but less accurate) or prepend <strong>+</strong> to perform exact geodesic
calculations (slower but more accurate).</p>
</div>
<div class="section" id="id7">
<h2><a class="reference external" href="#toc7">Ascii Format Precision</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>The ASCII output formats of numerical data are controlled by parameters
in your <strong>gmt.conf</strong> file. Longitude and latitude are formatted
according to <strong>FORMAT_GEO_OUT</strong>, whereas other values are formatted
according to <strong>FORMAT_FLOAT_OUT</strong>. Be aware that the format in effect
can lead to loss of precision in the output, which can lead to various
problems downstream. If you find the output is not written with enough
precision, consider switching to binary output (<strong>-bo</strong> if available) or
specify more decimals using the <strong>FORMAT_FLOAT_OUT</strong> setting.</p>
</div>
<div class="section" id="id8">
<h2><a class="reference external" href="#toc8">Grid File Formats</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p><strong>GMT</strong> is able to recognize many of the commonly used grid file
formats, as well as the precision, scale and offset of the values
contained in the grid file. When <strong>GMT</strong> needs a little help with that,
you can add the suffix
<strong>=</strong><em>id</em>[<strong>/</strong><em>scale</em><strong>/</strong><em>offset</em>[<strong>/</strong><em>nan</em>]], where
<em>id</em> is a two-letter identifier of the grid type and precision, and
<em>scale</em> and <em>offset</em> are optional scale factor and offset to be applied
to all grid values, and <em>nan</em> is the value used to indicate missing
data. See <a class="reference external" href="grdreformat.html">**grdreformat**(1)</a> and Section 4.17 of
the GMT Technical Reference and Cookbook for more information.</p>
<p>When reading a netCDF file that contains multiple grids, <strong>GMT</strong> will
read, by default, the first 2-dimensional grid that can find in that
file. To coax <strong>GMT</strong> into reading another multi-dimensional variable in
the grid file, append <strong>?</strong><em>varname</em> to the file name, where <em>varname</em>
is the name of the variable. Note that you may need to escape the
special meaning of <strong>?</strong> in your shell program by putting a backslash in
front of it, or by placing the filename and suffix between quotes or
double quotes. See <a class="reference external" href="grdreformat.html">**grdreformat**(1)</a> and
Section 4.18 of the GMT Technical Reference and Cookbook for more
information, particularly on how to read splices of 3-, 4-, or
5-dimensional grids.</p>
</div>
<div class="section" id="id10">
<h2><a class="reference external" href="#toc9">Hints</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>If an interpolation point is not on a node of the input grid, then a NaN
at any node in the neighborhood surrounding the point will yield an
interpolated NaN. Bicubic interpolation [default] yields continuous
first derivatives but requires a neighborhood of 4 nodes by 4 nodes.
Bilinear interpolation [<strong>-n</strong>] uses only a 2 by 2 neighborhood, but
yields only zeroth-order continuity. Use bicubic when smoothness is
important. Use bilinear to minimize the propagation of NaNs, or lower
<em>threshold</em>.</p>
</div>
<div class="section" id="id11">
<h2><a class="reference external" href="#toc10">Examples</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>To sample the file hawaii_topo.nc along the SEASAT track track_4.xyg
(An ASCII table containing longitude, latitude, and SEASAT-derived
gravity, preceded by one header record):</p>
<p>grdtrack track_4.xyg -Ghawaii_topo.nc -h &gt; track_4.xygt</p>
<p>To sample the Sandwell/Smith IMG format file topo.8.2.img (2 minute
predicted bathymetry on a Mercator grid) and the Muller et al age grid
age.3.2.nc along the lon,lat coordinates given in the file
cruise_track.xy, try</p>
<p>grdtrack cruise_track.xy -Gtopo.8.2.img,1,1 -Gage.3.2.nc &gt; depths-age.d</p>
<p>To sample the Sandwell/Smith IMG format file grav.18.1.img (1 minute
free-air anomalies on a Mercator grid) along 100-km-long cross-profiles
that are orthogonal to the line segment given in the file track.xy,
erecting cross-profiles every 25 km and sampling the grid every 3 km,
try</p>
<p>grdtrack track.xy -Ggrav.18.1.img,0.1,1 -C100k/3k/25k &gt; xprofiles.d</p>
</div>
<div class="section" id="id12">
<h2><a class="reference external" href="#toc11">See Also</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="gmt.html">*gmt*(1)</a> , <a class="reference external" href="surface.html">*surface*(1)</a> ,
<a class="reference external" href="sample1d.html">*sample1d*(1)</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">grdtrack</a><ul>
<li><a class="reference internal" href="#id1">Synopsis</a></li>
<li><a class="reference internal" href="#id2">Description</a></li>
<li><a class="reference internal" href="#id3">Common Arguments And Specifications</a></li>
<li><a class="reference internal" href="#id4">Required Arguments</a></li>
<li><a class="reference internal" href="#id5">Optional Arguments</a></li>
<li><a class="reference internal" href="#id6">Units</a></li>
<li><a class="reference internal" href="#id7">Ascii Format Precision</a></li>
<li><a class="reference internal" href="#id8">Grid File Formats</a></li>
<li><a class="reference internal" href="#id10">Hints</a></li>
<li><a class="reference internal" href="#id11">Examples</a></li>
<li><a class="reference internal" href="#id12">See Also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="grdsample.html"
                        title="previous chapter">grdsample</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="grdtrend.html"
                        title="next chapter">grdtrend</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/grdtrack.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="grdtrend.html" title="grdtrend"
             >next</a> |</li>
        <li class="right" >
          <a href="grdsample.html" title="grdsample"
             >previous</a> |</li>
        <li><a href="index.html">GMT5 v0 documentation</a> &raquo;</li>
          <li><a href="mains.html" >Mains</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, GMT_TEAM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
    </div>
  </body>
</html>