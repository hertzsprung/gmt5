#include "common_options.txt"
.TH PSMASK 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
psmask \- To clip or mask areas of no data on a map
.SH SYNOPSIS
BD(psmask) [IT(xyzfile)] GMT_I_OPT GMT_J_OPT GMT_Rgeoz_OPT [ GMT_B_OPT ]  
[ OPT(D)IT(dumpfile) ] [ OPT(G)IT(fill) ] [ GMT_Jz_OPT ] [ GMT_K_OPT ] [ OPT(N) ] [ GMT_O_OPT ] 
[ GMT_P_OPT ] [ OPT(Q)IT(cut) ] [ OPT(S)IT(search_radius)[IT(unit)] ] [ OPT(T) ] [ GMT_U_OPT ] 
[ GMT_V_OPT ] [ GMT_X_OPT ] [ GMT_Y_OPT ] [ GMT_bi_OPT ] [ GMT_c_OPT ] [ GMT_h_OPT ] [ GMT_i_OPT ] 
[ GMT_p_OPT ] [ GMT_r_OPT ] [ GMT_t_OPT ] [ GMT_colon_OPT ]
.br
.sp
BD(psmask) OPT(C) [ GMT_K_OPT ] [ GMT_O_OPT ]
.SH DESCRIPTION
BD(psmask) reads a (IT(x),IT(y),IT(z)) file [or standard input] and uses this information to find out
which grid cells are reliable.  Only grid cells which have one or more data points are considered
reliable.  As an option, you may specify a radius of influence. Then, all grid cells that are
within IT(radius) of a data point are considered reliable.  Furthermore, an option is provided to
reverse the sense of the test.  Having found the reliable/not reliable points, BD(psmask) will
either paint tiles to mask these nodes (with the OPT(T) switch), or use contouring to create
polygons that will clip out regions of no interest.  When clipping is initiated, it will stay in
effect until turned off by a second call to BD(psmask) using the OPT(C) option.
.SH REQUIRED ARGUMENTS
.TP
IT(xyzfile)
File with (IT(x),IT(y),IT(z)) values (e.g., that was used to run BD(surface)).  If no file
is given, standard input is read.  For binary files, see OPT(b).
#include "explain_-I.txt"
#include "explain_-J.txt"
#include "explain_-R.txt"
#include "explain_-Rz.txt"
.SH OPTIONAL ARGUMENTS
No space between the option flag and the associated arguments.
#include "explain_-B.txt"
.TP
OPT(C)
Mark end of existing clip path.  No input file is needed.  Implicitly sets OPT(O).
However, you must supply OPT(Xa) and OPT(Ya) settings if you are using absolute positioning.
.TP
OPT(D)IT(dumpfile)
Dump the (x,y) coordinates of each clipping polygon to one or more output files (or IT(stdout) if IT(template) is not given).
No plotting will take place.  If IT(template) contains the C-format specifier %d (including modifications like %5.5d) then
polygons will be written to different files; otherwise all polygons are written to the specified file (IT(template)).
The files are ASCII unless OPT(bo) is used.  See OPT(Q) to exclude small polygons from consideration.
#include "explain_perspective.txt"
.TP
OPT(G)IT(fill)
Paint the clip polygons (or tiles) with a selected fill [Default is no fill].
(See SPECIFYING FILL below).
#include "explain_-Jz.txt"
#include "explain_-K.txt"
.TP
OPT(N)
Invert the sense of the test, i.e. clip regions where there is data coverage.
#include "explain_-O.txt"
#include "explain_-P.txt"
.TP
OPT(Q)
Do not dump polygons with less than IT(cut) number of points [Dumps all polygons].
Only applicable if OPT(D) has been specified.
.TP
OPT(S)IT(search_radius)[IT(unit)]
Sets radius of influence. Grid nodes within IT(radius) of a data point are considered reliable. [Default is 0, which
means that only grid cells with data in them are reliable].  Append the distance unit (see UNITS).
.TP
OPT(T)
Plot tiles instead of clip polygons.  Use OPT(G) to set tile color or pattern.
Cannot be used with OPT(D).
#include "explain_-U.txt"
#include "explain_-V.txt"
#include "explain_-XY.txt"
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-c.txt"
#include "explain_-h.txt"
Not used with binary data.
#include "explain_-icols.txt"
#include "explain_perspective.txt"
#include "explain_nodereg.txt"
#include "explain_-t.txt"
#include "explain_colon.txt"
#include "explain_help.txt"
#include "explain_distunits.txt"
#include "explain_fill.txt"
#include "explain_color.txt"
.SH EXAMPLES
To make an overlay IT(PostScript) file that will mask out the regions of a contour map
where there is no control data using clip polygons, use:
.br
.sp
psmask africa_grav.xyg -R20/40/20/40 -I5m -JM10i -O -K > mask.ps
.br
.sp
We do it again, but this time we wish to save the clipping polygons to file all_pols.txt:
.br
.sp
psmask africa_grav.xyg -R20/40/20/40 -I5m -Dall_pols.txt
.br
.sp
A repeat of the first example but this time we use white tiling:
.br
.sp
psmask africa_grav.xyg -R20/40/20/40 -I5m -JM10i -T -O -K -Gwhite > mask.ps
.SH "SEE ALSO"
.IR gmt (1),
.IR gmtcolors (5),
.IR grdmask (1),
.IR surface (1),
.IR psbasemap (1),
.IR psclip (1)
