

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pslegend &mdash; GMT5 v0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="GMT5 v0 documentation" href="index.html" />
    <link rel="up" title="Mains" href="mains.html" />
    <link rel="next" title="pslib" href="pslib.html" />
    <link rel="prev" title="psimage" href="psimage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pslib.html" title="pslib"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="psimage.html" title="psimage"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">GMT5 v0 documentation</a> &raquo;</li>
          <li><a href="mains.html" accesskey="U">Mains</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pslegend">
<h1>pslegend<a class="headerlink" href="#pslegend" title="Permalink to this headline">¶</a></h1>
<p>pslegend - Plot legends on maps</p>
<div class="section" id="id1">
<h2><a class="reference external" href="#toc1">Synopsis</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><strong>pslegend</strong> [ <em>textfile</em> ]
<strong>-D</strong>[<strong>x</strong>]<em>lon</em>/<em>lat</em>/<em>width</em>/<em>height</em>/<em>just</em>[/<em>dx</em>/<em>dy</em>] [
<strong>-B</strong>[<strong>p</strong>|<strong>s</strong>]<em>parameters</em> ] [ <strong>-C</strong><em>dx</em>/<em>dy</em> ] [
<strong>-F</strong>[<strong>+r</strong>[<em>radius</em>]] ] [ <strong>-G</strong><em>fill</em> ] [
<strong>-J</strong><em>parameters</em> ] [ <strong>-K</strong> ] [ <strong>-L</strong><em>spacing</em> ] [ <strong>-O</strong> ] [
<strong>-P</strong> ] [ <strong>-R</strong><em>west</em>/<em>east</em>/<em>south</em>/<em>north</em>[<strong>r</strong>] ] [
<strong>-U</strong>[<em>just</em>/<em>dx</em>/<em>dy</em>/][<strong>c</strong>|<em>label</em>] ] [ <strong>-V</strong>[<em>level</em>]
] [
<strong>-X</strong>[<strong>a</strong>|<strong>c</strong>|<strong>f</strong>|<strong>r</strong>][<em>x-shift</em>[<strong>u</strong>]]
] [
<strong>-Y</strong>[<strong>a</strong>|<strong>c</strong>|<strong>f</strong>|<strong>r</strong>][<em>y-shift</em>[<strong>u</strong>]]
] [ <strong>-c</strong><em>copies</em> ] [
<strong>-p</strong><em>azim</em>/<em>elev</em>[/<em>zlevel</em>][<strong>+w</strong><em>lon0</em>/<em>lat0</em>[/<em>z0</em>]][<strong>+v</strong><em>x0</em>/<em>y0</em>]
] [ <strong>-t</strong>[<em>transp</em>] ]</p>
</div>
<div class="section" id="id2">
<h2><a class="reference external" href="#toc2">Description</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong>pslegend</strong> will make legends that can be overlaid on maps. It reads
specific legend-related information from an input file [or stdin].
Unless otherwise noted, annotations will be made using the primary
annotation font and size in effect (i.e., FONT_ANNOT_PRIMARY)</p>
</div>
<div class="section" id="id3">
<h2><a class="reference external" href="#toc3">Common Arguments And Specifications</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>All options marked with an asterisk (*) are common GMT command-line
options. Their full syntax as well as how to specify pens, pattern
fills, colors, and fonts can be found in the <strong>gmt</strong> man page. Note: No
space is allowed between the option flag and the associated arguments.</p>
</div>
<div class="section" id="id4">
<h2><a class="reference external" href="#toc4">Required Arguments</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id5">
<h2><a class="reference external" href="#toc5">Optional Arguments</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><em>textfile</em></p>
<p>This file contains instruction for the layout of items in the legend.
Each legend item is described by a unique record. All records begin with
a unique character that is common to all records of the same kind. The
order of the legend items is implied by the order of the records. Ten
different record types are recognized, and the syntax for each of these
records are presented below:</p>
<blockquote>
<div><strong>#</strong> <em>comment</em> Records starting with # and blank lines are skipped.
<strong>B</strong> <em>cptname offset height</em> [ <em>optional arguments</em> ]
The <strong>B</strong> record will plot a horizontal color bar, <strong>psscale</strong>-style
in the middle, starting at <em>offset</em> from the left edge, and of the
given <em>height</em>. You may add any additional <strong>psscale</strong> options from
the list: <strong>-A</strong> <strong>-B</strong> <strong>-I</strong> <strong>-L</strong> <strong>-M</strong> <strong>-N</strong> <strong>-S</strong> <strong>-Z</strong>
and <strong>-p</strong>. See the <strong>psscale</strong> man page for details.
<strong>C</strong> <em>textcolor</em>
The <strong>C</strong> record specifies the color with which the remaining text
is to be printed. <em>textcolor</em> can be in the form <em>r/g/b</em>, <em>c/m/y/k</em>,
or a named color. Use <strong>-</strong> to reset to default color.
<strong>D</strong> <em>offset pen</em>
The <strong>D</strong> record results in a horizontal line with specified <em>pen</em>
across the legend with one quarter of the line spacing left blank
above and below the line. Two gaps of <em>offset</em> units are left blank
between the horizontal line and the left and right frame sides. If
no pen is given we use MAP_GRID_PEN_PRIMARY
<strong>G</strong> <em>gap</em>
The <strong>G</strong> record specifies a vertical gap of the given length. In
addition to the standard units (<strong>i</strong>, <strong>c</strong>, <strong>p</strong>) you may use
<strong>l</strong> for lines. A negative <em>gap</em> will move the current line upwards
(thus closing a gap).
<strong>H</strong> <em>fontsize</em>|<strong>-</strong> <em>font</em>|<strong>-</strong> header)
The <strong>H</strong> record plots a centered text string using the specified
font parameters. Use <strong>-</strong> to default to size and type of
<strong>FONT_TITLE</strong>.
<strong>I</strong> <em>imagefile width justification</em>
Place an EPS or Sun raster image in the legend justified relative to
the current point. The image <em>width</em> determines the size of the
image on the page.
<strong>L</strong> <em>fontsize</em>|<strong>-</strong> <em>font</em>|<strong>-</strong> justification label)
The <strong>L</strong> record plots a (L)eft, (C)entered, or (R)ight-justified
text string within a column using the specified font parameters. Use
<strong>-</strong> to default to the size and type of <strong>FONT_LABEL</strong>.
<strong>M</strong> <em>slon</em>|<strong>-</strong> <em>slat length</em> <strong>f</strong>|<strong>p</strong> [
<strong>-R</strong><em>w/e/s/n</em> <strong>-J</strong><em>param</em> ]
Place a map scale in the legend. Specify <em>slon slat</em>, the point on
the map where the scale applies (<em>slon</em> is only meaningful for
certain oblique projections. If not needed, you must specify <strong>-</strong>
instead), <em>length</em>, the length of the scale in km (append <strong>m</strong> or
<strong>n</strong> for miles or nautical miles), and <strong>f</strong> or <strong>p</strong> for fancy or
plain scale. If the <strong>-R</strong> <strong>-J</strong> supplied to <strong>pslegend</strong> is
different than the projection needed for the scale (or not given at
all, i.e., with <strong>-Dx</strong>), supply the optional <strong>-R</strong> <strong>-J</strong> settings
as well. Append <strong>+l</strong> to the <em>length</em> to select the default label
which equals the distance unit (km, miles, nautical miles) and is
justified on top of the scale [t]. Change this by giving your own
label (append <strong>+l</strong><em>label</em>). Change label justification with
<strong>+j</strong><em>justification</em> (choose among l(eft), r(ight),
<a class="reference external" href="t.op.html">t(op)</a> , and <a class="reference external" href="b.ottom.html">b(ottom)</a> ). Apply
<strong>+u</strong> to append the unit to all distance annotations along the
scale. If you want to place a rectangle behind the scale, specify
suitable <strong>+p</strong><em>pen</em> and/or <strong>+f</strong><em>fill</em> parameters. All these
)+)<em>modifiers</em> are appended to <em>length</em> to make a single string.
<strong>N</strong> <em>ncolumns</em>
Change the number of columns in the legend [1]. This only affects
the printing of symbols (<strong>S</strong>) and labels (<strong>L</strong>). The number of
columns stay in effect until <strong>N</strong> is used again.
<strong>S</strong> <em>dx1 symbol size fill pen</em> [ <em>dx2 text</em> ]
Plots the selected symbol with specified size, fill, and outline
(see <strong>psxy</strong>). The symbol is centered at <em>dx1</em> from the left margin
of the column, with the optional explanatory <em>text</em> starting <em>dx2</em>
from the margin, printed with <strong>FONT_ANNOT_PRIMARY</strong>. Use <strong>-</strong> if
no <em>fill</em> or outline (<em>pen</em>) is required. When plotting just a
symbol, without text, <em>dx2</em> and <em>text</em> can be omitted. Two <strong>psxy</strong>
symbols require special attention: front (<strong>f</strong>) and vector (<strong>v</strong>).
You must prepend the length of the desired item to the rest of the
symbol argument; this will be used internally to set the correct
fault or vector length and will be stripped before passing the
arguments to <strong>psxy</strong>.
<strong>T</strong> <em>paragraph-text</em>
One or more of these <strong>T</strong> records with <em>paragraph-text</em> printed
with <strong>FONT_ANNOT_PRIMARY</strong>. To specify special positioning and
typesetting arrangements, or to enter a paragraph break, use the
optional <strong>P</strong> record.
<strong>V</strong> <em>offset pen</em>
The <strong>V</strong> record draws a vertical line between columns (if more than
one) using the selected <em>pen</em> <em>offset</em> is analogous to the offset
for the <strong>D</strong> records but in the vertical direction.
<strong>P</strong> <em>paragraph-mode-header-for-pstext</em>
Start a new text paragraph by specifying all the parameters needed
(see <strong>pstext -M</strong> record description). Note that <strong>pslegend</strong> knows
what all those values should be, so normally you can leave the
entire record (after P) blank or leave it out all together. If you
need to set at least one of the parameters directly, you must
specify all and set the ones you want to leave at their default
value to <strong>-</strong>.</div></blockquote>
<dl class="docutils">
<dt><strong>-D</strong>[<strong>x</strong>]<em>lon</em>/<em>lat</em>/<em>width</em>/<em>height</em>/<em>just</em>[/<em>dx</em>/<em>dy</em>]</dt>
<dd>Positions the legend and specifies its size. The <em>just</em> is a 2-char
justification string (see <strong>pstext</strong>) that relates the given
position to a point on the rectangular legend box. If you want to
specify the position in map plot units (i.e., inches or cm), use
<strong>-Dx</strong>; in that case the <strong>-R</strong> and <strong>-J</strong> are optional (provided
it is an overlay, i.e., we are using <strong>-O</strong>). Use to optional
<em>dx</em>/<em>dy</em> to shift the legend by that amount in the direction
implied by the justification.</dd>
<dt><strong>-B</strong>[<strong>p</strong>|<strong>s</strong>]<em>parameters</em> (*)</dt>
<dd>Set map boundary intervals.</dd>
<dt><strong>-C</strong><em>dx</em>/<em>dy</em></dt>
<dd>Sets the clearance between the legend frame and the internal items
[4**p**/4**p**].</dd>
<dt><strong>-F</strong>[<strong>+i</strong>[[<em>gap</em>/]*pen*]][<strong>+p</strong><em>pen</em>][<strong>+r</strong>[<em>radius</em>]][<strong>+s</strong>[[<em>dx</em>/<em>dy</em>/][<em>fill</em>]]]</dt>
<dd>Draws a rectangular border around the legend using
<strong>MAP_FRAME_PEN</strong>; specify a different pen with <strong>+p</strong><em>pen</em>.
Append <strong>+i</strong> to draw a secondary, inner border as well. We use a
<em>gap</em> between borders of 2<strong>p</strong> and the <strong>MAP_DEFAULTS_PEN</strong>
unless other values are specified. Append <strong>+r</strong> to draw rounded
rectangular borders instead, with a 6<strong>p</strong> corner radius. You can
override this radius by appending another value. Finally, append
<strong>+s</strong> to draw an offset background shaded region. Here, <em>dx</em>/<em>dy</em>
indicates the shift relative to the foreground frame
[4**p**/-4<strong>p</strong>] and <em>fill</em> sets the shading to use [SHADE].</dd>
<dt><strong>-G</strong><em>fill</em></dt>
<dd>Select fill shade, color or pattern of the legend box [Default is no
fill].</dd>
<dt><strong>-J</strong><em>parameters</em> (*)</dt>
<dd>Select map projection.</dd>
<dt><strong>-K</strong> (*)</dt>
<dd>Do not finalize the <em>PostScript</em> plot.</dd>
<dt><strong>-L</strong><em>spacing</em></dt>
<dd>Sets the linespacing factor in units of the current annotation font
size [1.1].</dd>
<dt><strong>-O</strong> (*)</dt>
<dd>Append to existing <em>PostScript</em> plot.</dd>
<dt><strong>-P</strong> (*)</dt>
<dd>Select &#8220;Portrait&#8221; plot orientation.</dd>
<dt><strong>-R</strong><em>xmin</em>/<em>xmax</em>/<em>ymin</em>/<em>ymax</em>[<strong>r</strong>] (*)</dt>
<dd>Specify the region of interest.</dd>
<dt><strong>-U</strong>[<em>just</em>/<em>dx</em>/<em>dy</em>/][<strong>c</strong>|<em>label</em>] (*)</dt>
<dd>Draw GMT time stamp logo on plot.</dd>
<dt><strong>-V</strong>[<em>level</em>] (*)</dt>
<dd>Select verbosity level [c].</dd>
</dl>
<p><strong>-X</strong>[<strong>a</strong>|<strong>c</strong>|<strong>f</strong>|<strong>r</strong>][<em>x-shift</em>[<strong>u</strong>]]
<strong>-Y</strong>[<strong>a</strong>|<strong>c</strong>|<strong>f</strong>|<strong>r</strong>][<em>y-shift</em>[<strong>u</strong>]]
(*)</p>
<blockquote>
<div>Shift plot origin.</div></blockquote>
<dl class="docutils">
<dt><strong>-c</strong><em>copies</em> (*)</dt>
<dd>Specify number of plot copies [Default is 1].</dd>
</dl>
<p><strong>-p</strong><em>azim</em>/<em>elev</em>[/<em>zlevel</em>][<strong>+w</strong><em>lon0</em>/<em>lat0</em>[/<em>z0</em>]][<strong>+v</strong><em>x0</em>/<em>y0</em>]
(*)</p>
<blockquote>
<div>Select perspective view.</div></blockquote>
<dl class="docutils">
<dt><strong>-t</strong>[<em>transp</em>] (*)</dt>
<dd>Set PDF transparency level.</dd>
<dt><strong>-^</strong> (*)</dt>
<dd>Print a short message about the syntax of the command, then exits.</dd>
<dt><strong>-?</strong> (*)</dt>
<dd>Print a full usage (help) message, including the explanation of
options, then exits.</dd>
<dt><strong>&#8211;version</strong> (*)</dt>
<dd>Print GMT version and exit.</dd>
<dt><strong>&#8211;show-sharedir</strong> (*)</dt>
<dd>Print full path to GMT share directory and exit.</dd>
</dl>
</div>
<div class="section" id="id6">
<h2><a class="reference external" href="#toc6">Examples</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>To add an example of a legend to a Mercator plot (map.ps) with the given
specifications, use</p>
<p>pslegend -R-10/10/-10/10 -JM6i -Gazure1 -Dx0.5i/0.5i/5i/3.3i/BL
-C0.1i/0.1i -L1.2 -Fr -B5f1 &lt;&lt; EOF &gt;&gt; map.ps</p>
<p># Legend test for pslegend</p>
<p># G is vertical gap, V is vertical line, N sets # of columns, D draws
horizontal line.</p>
<p># H is header, L is label, S is symbol, T is paragraph text, M is map
scale.</p>
<p>#</p>
<p>G -0.1i</p>
<p>H 24 Times-Roman My Map Legend</p>
<p>D 0.2i 1p</p>
<p>N 2</p>
<p>V 0 1p</p>
<p>S 0.1i c 0.15i p300/12 0.25p 0.3i This circle is hachured</p>
<p>S 0.1i e 0.15i 255/255/0 0.25p 0.3i This ellipse is yellow</p>
<p>S 0.1i w 0.15i 0/255/0 0.25p 0.3i This wedge is green</p>
<p>S 0.1i f 0.25i/-1/0.075ilb 0/0/255 0.25p 0.3i This is a fault</p>
<p>S 0.1i - 0.15i - 0.25tap 0.3i A contour</p>
<p>S 0.1i v 0.25i/0.02i/0.06i/0.05i 255/0/255 0.25p 0.3i This is a vector</p>
<p>S 0.1i i 0.15i 0/255/255 0.25p 0.3i This triangle is boring</p>
<p>V 0 1p</p>
<p>D 0.2i 1p</p>
<p>N 1</p>
<p>M 5 5 600+u f</p>
<p>G 0.05i</p>
<p>I SOEST_logo.ras 3i CT</p>
<p>G 0.05i</p>
<p>B colors.cpt 0.2i 0.2i</p>
<p>G 0.05i L 9 4 R Smith et al., &#64;%5%J. Geophys. Res., 99&#64;%%, 2000</p>
<p>G 0.1i</p>
<p>P</p>
<p>T Let us just try some simple text that can go on a few lines.</p>
<p>T There is no easy way to predetermine how many lines will be required,</p>
<p>T so we may have to adjust the box height to get the right size box.</p>
<p>EOF</p>
</div>
<div class="section" id="id7">
<h2><a class="reference external" href="#toc7">Windows Remarks</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Note that under Windows, the percent sign (%) is a variable indicator
(like $ under Unix). To indicate a plain percentage sign in a batch
script you need to repeat it (%%); hence the font switching mechanism
(&#64;%*font*% and &#64;%%) may require twice the number of percent signs.
This only applies to text inside a script or that otherwise is processed
by DOS. Data files that are opened and read by <strong>pslegend</strong> do not need
such duplication.</p>
</div>
<div class="section" id="id8">
<h2><a class="reference external" href="#toc8">See Also</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="gmt.html">*gmt*(1)</a> , <a class="reference external" href="gmt.conf.html">*gmt.conf*(5)</a> ,
<a class="reference external" href="gmtcolors.html">*gmtcolors*(5)</a> ,
<a class="reference external" href="psbasemap.html">*psbasemap*(1)</a> , <a class="reference external" href="pstext.html">*pstext*(1)</a> ,
<a class="reference external" href="psxy.html">*psxy*(1)</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pslegend</a><ul>
<li><a class="reference internal" href="#id1">Synopsis</a></li>
<li><a class="reference internal" href="#id2">Description</a></li>
<li><a class="reference internal" href="#id3">Common Arguments And Specifications</a></li>
<li><a class="reference internal" href="#id4">Required Arguments</a></li>
<li><a class="reference internal" href="#id5">Optional Arguments</a></li>
<li><a class="reference internal" href="#id6">Examples</a></li>
<li><a class="reference internal" href="#id7">Windows Remarks</a></li>
<li><a class="reference internal" href="#id8">See Also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="psimage.html"
                        title="previous chapter">psimage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pslib.html"
                        title="next chapter">pslib</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/pslegend.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pslib.html" title="pslib"
             >next</a> |</li>
        <li class="right" >
          <a href="psimage.html" title="psimage"
             >previous</a> |</li>
        <li><a href="index.html">GMT5 v0 documentation</a> &raquo;</li>
          <li><a href="mains.html" >Mains</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, GMT_TEAM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.8.
    </div>
  </body>
</html>