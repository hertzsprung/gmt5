.TH GRDIMAGE GMTMANSECTION DATE VERSION VERSION
#define LEN_L   1.5
#define SCALE1	\fB\-Jl\fP18/24/1.5\fBc\fP
#define LEN_X   10
#define SCALE2	\fB\-Jx\fP10\fBi\fP
.SH NAME
grdimage \- Create grayshaded or colored image from a 2-D netCDF grd file
.SH SYNOPSIS
\fBgrdimage\fP \fIgrd_z\fP | \fIgrd_r grd_g grd_b\fP \fB\-C\fP\fIcptfile\fP \fB\-J\fP\fIparameters\fP 
[ \fB\-B\fP\fItickinfo\fP ] [ \fB\-Ei\fP|\fIdpi\fP ] [ \fB\-G\fP[\fBf|b\fP]\fIrgb\fP ] [ \fB\-I\fP\fIintensfile\fP] [ \fB\-K\fP ] 
[ \fB\-M\fP ] [ \fB\-O\fP ] [ \fB\-P\fP ] [ \fB\-Q\fP ] [ \fB\-R\fP\fIwest/east/south/north\fP[\fBr\fP] ] [ \fB\-S\fP\fIsearch_radius\fP ] 
[ \fB\-T\fP[\fBs\fP] ] [ \fB\-U\fP[\fI/dx/dy/\fP][\fIlabel\fP] ] [ \fB\-V \fP ] [ \fB\-X\fP\fIx-shift\fP ] [ \fB\-Y\fP\fIy-shift\fP ] 
[ \fB\-c\fP\fIcopies\fP ]
.SH DESCRIPTION
\fBgrdimage\fP reads one 2-D gridded file and produces a gray-shaded (or colored) map by assigning
each z-value a gray-shade (or color). 
Alternatively, \fBgrdimage\fP reads three 2-D gridded files with the red, green, and blue components
directly (all must be in the 0-255 range). Optionally, illumination may be added by providing
a file with intensities in the (-1,+1) range.  Values outside this range will be clipped.
Such intensity files can be created from the
grdfile using \fBgrdgradient\fP and modified by \fBgrdmath\fP or \fBgrdhisteq\fP.  Each grid-node in the
grdfile is represented as a shaded (or colored) rectangle centered on the grid node.  When using map projections,
the grid is first resampled on a new rectangular grid  (This can be a time-consuming process for large grid files; but see \fB-T\fP).
A 24-bit true color \fIPostScript\fP file is output.
The region option can be used to select a map region larger or smaller than that implied by the extent of the
grdfile.
.TP
\fIgrd_z\fP | \fIgrd_r grd_g grd_b\fP
2-D gridded data set (or red, green, blue grids) to be imaged
.TP
.B \-C
name of the color palette table (for \fIgrd_z\fP only).
#include "explain_-J_short.txt"
.SH OPTIONS
No space between the option flag and the associated arguments.
#include "explain_-B_short.txt"
.TP
.B \-E
Sets the resolution of the projected grid that will be created if
a map projection other than Linear or Mercator was selected.  By default,
the projected grid will be of the same size (rows and columns) as the
input file.  Specify \fBi\fP to use the \fIPostScript\fP
image operator to interpolate the image at the device resolution.
.TP
.B \-G
This option only applies when the resulting image otherwise would consist
of only two colors: black (0) and white (255).  If so, this option will
instead use the image as a transparent mask and paint the mask (or its
inverse, with \fB\-Gb\fP) with the given color combination.
.TP
.B \-I
Gives the name of a grdfile with intensities in the (-1,+1) range. [Default is no illumination].
#include "explain_-K.txt"
.TP
.B \-M
Force conversion to monochrome image using the (television) YIQ transformation.
#include "explain_-O.txt"
#include "explain_-P.txt"
.TP
.B \-Q
Mask out nodes with z = NaN using the colormasking feature in \fIPostScript\fP Level 3
(the PS device must support PS Level 3).
#include "explain_-R.txt"
You may ask for a larger \fIw/e/s/n\fP region to have more room between the image and the axes.
A smaller region than specified in the grdfile will result in a subset of the grid [Default is
region given by the grdfile].
.TP
.B \-S
Set the search radius for the averaging procedure  [Default avoids aliasing].
.TP
.B \-T
Plot image without any interpolation.  This involves converting each node-centered
bin into a polygon which is then painted separately.  Append \fBs\fP to skip
nodes with z = NaN.  This option is useful for categorical data where
interpolating between values is meaningless.
#include "explain_-U.txt"
#include "explain_-V.txt"
#include "explain_-XY.txt"
#include "explain_-c.txt"
.SH EXAMPLES
To gray-shade the file hawaii_grav.grd with shades given in shades.cpt on a Lambert map
at LEN_L cm/degree along the standard parallels 18 and 24, and using 1 degree tickmarks:
.br
.sp
\fBgrdimage\fP hawaii_grav.grd SCALE1 \fB\-C\fPshades.cpt \fB\-B\fP1 > hawaii_grav_image.ps
.br
.sp
To create an illuminated color \fIPostScript\fP plot of the gridded data set image.grd, using the
intensities provided by the file intens.grd, and color
levels in the file colors.cpt, with linear scaling at LEN_X inch/x-unit, tickmarks every 5 units:
.br
.sp
\fBgrdimage\fP image.grd SCALE2 \fB\-C\fPcolors.cpt \fB\-I\fPintens.grd \fB\-B\fP5 > image.ps
.br
.sp
To create an false color \fIPostScript\fP plot from the three gridded files red.grd, green.grd, and blue.grd,
with linear scaling at LEN_X inch/x-unit, tickmarks every 5 units:
.br
.sp
\fBgrdimage\fP red.grd green.grd blue.grd SCALE2 \fB\-B\fP5 > rgbimage.ps
.SH "SEE ALSO"
.IR gmt (GMTMANSECTION),
.IR gmt2rgb (GMTMANSECTION),
.IR grdcontour (GMTMANSECTION),
.IR grdview (GMTMANSECTION),
.IR grdgradient (GMTMANSECTION),
.IR grdhisteq (GMTMANSECTION)
