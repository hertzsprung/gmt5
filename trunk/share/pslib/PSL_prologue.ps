%-	$Id: PSL_prologue.ps,v 1.20 2009-01-12 04:25:57 remko Exp $
%-	Make sure that the version number matches the one mentioned in pslib.c
% Begin pslib header
250 dict begin
/! {bind def} bind def
/# {load def}!
/A /setgray #
/B /setdash #
/C /setrgbcolor #
/D /rlineto #
/E {dup stringwidth pop}!
/F /fill #
/G /rmoveto #
/H /sethsbcolor #
/I /setpattern #
/K /setcmykcolor #
/L /lineto #
/M {stroke moveto}!
/m {moveto}!
/N /newpath #
/P /closepath #
/R /rotate #
/S /stroke #
/T /translate #
/U /grestore #
/V /gsave #
/W /setlinewidth #
/Y {findfont exch scalefont setfont}!
/Z /show #
/FP {true charpath flattenpath}!
% Point
/O {M W 0 0 D S}!
% Cross
/X {M 1.414213562 mul 5 {dup} repeat -2 div dup G D neg 0 G neg D S}!
% Plus
/x {M dup 0 G dup -2 mul dup 0 D exch dup G 0 exch D S}!
% Path fill (lower case second letter with outline)
/FA {P V A F U N}! /FC {P V C F U N}! /FK {P V K F U N}! /FH {P V H F U N}! /FI {P V I F U N}!
/Fa {P V A F U S}! /Fc {P V C F U S}! /Fk {P V K F U S}! /Fh {P V H F U S}! /Fi {P V I F U S}! /FQ {P S}!
% Patch fill
/SP {M {D} repeat FS}!
% Single-headed vector
/SV {0 exch M 0 D D D D D 0 D FS}!
% Double-headed vector
/Sv {0 0 M D D 0 D D D D D 0 D D FS}!
% Box
/SB {M dup 0 D exch 0 exch D neg 0 D FS}!
% Circle
/SC {S 0 360 arc FS}!
% Ellipse
/SE {S /savematrix matrix currentmatrix def T R scale 0 0 1 0 360 arc savematrix setmatrix FS}!
% Diamond
/SD {M 4 {dup} repeat 0 G neg dup dup D exch D D FS}!
% Rectangle
/SR {M V R dup -2 div 0 G exch dup -2 div 0 exch G exch dup 0 D exch 0 exch D neg 0 D FS U}!
% Square
/SS {M 1.414213562 mul dup dup dup -2 div dup G 0 D 0 exch D neg 0 D FS}!
% Triangle
/ST {M V dup 0 exch G -60 R 1.732050808 mul dup 0 D -120 R 0 D FS U}!
% Inverted triangle
/SI {M V dup neg 0 exch G 60 R 1.732050808 mul dup 0 D 120 R 0 D FS U}!
% Star
/SA {M V dup 0 exch G 0.726542528 mul -72 R dup 0 D 4 {72 R dup 0 D -144 R dup 0 D} repeat pop FS U}!
% Hexagon
/SH {M V dup 0 G -120 R dup 0 D 4 {-60 R dup 0 D} repeat pop FS U}!
% Pentagon
/SN {M V dup 0 exch G -36 R 1.175570505 mul dup 0 D 3 {-72 R dup 0 D} repeat pop FS U}!
% Octagon
/SO {M V 22.5 R dup 0 exch G -22.5 R 0.765366865 mul dup 0 D 6 {-45 R dup 0 D} repeat pop FS U}!
% Pie Wedge
/SW {S /a1 exch def /a0 exch def /r exch def /y exch def dup y r a0 a1 arc y L FS}!
% To reencode one font with the provided encoding vector
/PSL_reencode { findfont dup length dict begin
  {1 index /FID ne {def}{pop pop} ifelse} forall
  exch /Encoding exch def currentdict end definefont pop
}!
