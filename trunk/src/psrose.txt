#include "common_options.txt"
.TH PSROSE 1 MANDATE GMT_STRING "Generic Mapping Tools"
#define LEN_1	3
#define SCALE_1	OPT(S)3BD(i)
#define LEN_2	5
#define SCALE_2	OPT(S)5BD(c)
.SH NAME
psrose \- Plot a polar histogram (rose, sector, windrose diagrams)
.SH SYNOPSIS
BD(psrose) [ IT(table) ] [ OPT(A)IT(sector_width)[BD(r)] ] 
[ GMT_B_OPT ] [ OPT(C)[IT(mode_file)] ] [ OPT(D) ] [ OPT(I) ] [ OPT(G)IT(fill) ] 
[ OPT(I) ] [ GMT_K_OPT ] [ OPT(L)[IT(wlabel)/IT(elabel)/IT(slabel)/IT(nlabel)] ] 
[ OPT(M)IT(parameters) ] [ GMT_O_OPT ] [ GMT_P_OPT ] 
[ OPT(R)IT(r0)/IT(r1)/IT(az_0)/IT(az_1) ] [ OPT(S)IT(radial_scale)[BD(n)] ] 
[ OPT(T) ] [ GMT_U_OPT ] [ GMT_V_OPT ] [ OPT(W)[BD(v)]IT(pen) ] [ GMT_X_OPT ] 
[ GMT_Y_OPT ] [ OPT(Z)IT(scale) ] [ GMT_bi_OPT ] [ GMT_c_OPT ] [ GMT_h_OPT ] 
[ GMT_i_OPT ] [ GMT_p_OPT ] [ GMT_t_OPT ] [ GMT_colon_OPT ]
.SH DESCRIPTION
BD(psrose) reads (length,azimuth) pairs from IT(file) [or standard input] and
generates IT(PostScript) code that will plot a windrose diagram.  Optionally (with OPT(A)), polar histograms
may be drawn (sector diagram or rose diagram).  Options include full circle and half circle plots.
The IT(PostScript) code is written to standard output. 
The outline of the windrose is drawn with the same color as BD(MAP_DEFAULT_PEN).
#include "explain_commonitems.txt"
.SH REQUIRED ARGUMENTS
None.
.SH OPTIONAL ARGUMENTS
#include "explain_intables.txt"
.TP
OPT(A)IT(sector_width)[BD(r)]
Gives the sector width in degrees for sector and rose diagram.  [Default 0 means windrose diagram].  Append BD(r) to draw
rose diagram instead of sector diagram.
#include "explain_-B.txt"
Remember that "x" here is radial distance and
"y" is azimuth.  The ylabel may be used to plot a figure caption.
.TP
OPT(C)[IT(mode_file)]
Plot vectors showing the principal directions given in the IT(modes) file.  If no file is
given, compute and plot mean direction.  See OPT(M) to control vector attributes.
.TP
OPT(D)
Shift sectors so that they are centered on the bin interval (e.g., first sector is centered on 0 degrees).
.TP
OPT(F)
Do not draw the scale length bar [Default plots scale in lower right corner]
.TP
OPT(G)IT(fill)
Selects shade, color or pattern for filling the sectors [Default is no fill].
.TP
OPT(I)
Inquire.  Computes statistics needed to specify useful OPT(R).  No plot is generated.
#include "explain_-K.txt"
.TP
OPT(L)[IT(wlabel)/IT(elabel)/IT(slabel)/IT(nlabel)]
Specify labels for the 0, 90, 180, and 270 degree marks.  For full-circle plot the default
is WEST/EAST/SOUTH/NORTH and for half-circle the default is 90W/90E/-/0.  A - in any entry
disables that label.  Use OPT(L) with no argument to disable all four labels
.TP
OPT(M)IT(parameters)
Used with OPT(C) to modify vector parameters.  For vector heads, append vector head IT(size) [Default is 0, i.e., a line].  
See VECTOR ATTRIBUTES for specifying additional attributes.
#include "explain_-O.txt"
#include "explain_-P.txt"
.TP
OPT(R)IT(r0)/IT(r1)/IT(az_0)/IT(az_1)
Specifies the 'region' of interest in (r,azimuth) space.  r0 is 0, r1 is max length in units.  For azimuth, specify
-90/90 for half circle plot or 0/360 for full circle.
.TP
OPT(S)IT(radial_scale)[BD(n)]
Specifies radius of circle.  Append BD(n) to normalize input radii to go from 0 to 1.
.TP
OPT(T)
Specifies that the input data is orientation data (has a 180 degree ambiguity) instead of true
0-360 degree directions [Default].
#include "explain_-U.txt"
#include "explain_-V.txt"
.TP
OPT(W)IT(pen)
Set pen attributes for sector outline or rose plot.  [Default is no outline].
Use OPT(Wv)IT(pen) to change pen used to draw vector (requires OPT(C)) [Default is same as sector outline].
#include "explain_-XY.txt"
.TP
OPT(Z)IT(scale)
Multiply the data radii by IT(scale).  E.g., use OPT(Z)0.001 to convert your data from m to km [Default is no scaling].
.TP
OPT(:)
Input file has (azimuth,radius) pairs rather than the expected (radius,azimuth).
#include "explain_-bi.txt"
[Default is 2 input columns].
#include "explain_-c.txt"
#include "explain_-h.txt"
#include "explain_-icols.txt"
#include "explain_perspective.txt"
#include "explain_-t.txt"
#include "explain_help.txt"
#include "explain_vectors.txt"
.SH EXAMPLES
To plot a half circle rose diagram of the data in the file fault_segments.az_r (containing
pairs of (azimuth, length in meters), using a 10 degree bin sector width,
on a circle of radius = LEN_1 inch, grid going out to radius = 150 km in steps of 25 km with a 30 degree
sector interval, radial direction annotated every 50 km, using a light blue shading outlined
by a solid red pen (width = 0.75 points), draw the mean azimuth, and shown in Portrait orientation, use:
.br
.sp
psrose fault_segments.az_r -R0/150/-90/90 -B50g25:"Fault length":/g30:."Rose diagram":
SCALE_1 -A10r -Glightblue -W0.75p,red -Z0.001 -C -P -T -: | lpr
.br
.sp
To plot a full circle wind rose diagram of the data in the file lines.r_az, on a circle of radius = LEN_2 cm, 
grid going out to radius = 500 units in steps of 100 with a 45 degree sector interval, using a solid pen (width = 0.5 point, 
and shown in landscape [Default] orientation with UNIX timestamp and command line plotted, use:
.br
.sp
psrose lines.az_r -R0/500/0/360 SCALE_2 -Bg100/g45:."Windrose diagram": -W0.5p -Uc | lpr
.SH BUGS
No default radial scale and grid settings for polar histograms.  User must run BD(psrose) OPT(I) to find max length in
binned data set.
.SH "SEE ALSO"
.IR gmt (1),
.IR gmt.conf (5),
.IR gmtcolors (5),
.IR pshistogram (1)
