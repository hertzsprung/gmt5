#include "common_options.txt"
.TH MGD77CONVERT 1 MANDATE GMT_STRING "Generic Mapping Tools [mgd77 supplement]"
.SH NAME
mgd77convert \- Convert MGD77 data to other file formats
.SH SYNOPSIS
BD(mgd77convert) IT(NGDC-ids) OPT(Fa)|BD(c)|BD(t) OPT(T)[BD(+)]BD(a)|BD(b)|BD(t) 
[ OPT(D) ] [ OPT(L)[BD(w)][BD(e)][BD(+)] ] [ GMT_V_OPT ]
.SH DESCRIPTION
BD(mgd77convert) reads versions of MGD77 files and writes the same
data in (probably) another format to a new file in the current directory.  Both pre-
and post-Y2K MGD77 formats can be processed.
.SH REQUIRED ARGUMENTS
#include "explain_ncid.txt"
.TP
OPT(Fa)|BD(c)|BD(t)
Specifies the format of the input (From) files.  Choose from BD(a) for standard
MGD77 ASCII table (with extension .mgd77), BD(c) for the new MGD77+ netCDF format
(with extension .nc), and BD(t) for a plain ASCII tab-separated table dump
(with extension .dat).  Use OPT(FC) to recover the original MGD77 setting from
the MGD77+ file [Default will apply any E77 corrections encoded in the file].
.TP
OPT(T)[BD(+)]BD(a)|BD(b)|BD(t)
Specifies the format of the output (To) files.  Choose from BD(a) for standard
MGD77 ASCII table (with extension .mgd77), BD(c) for the new MGD77+ netCDF format
(with extension .nc), and BD(t) for a plain ASCII tab-separated table dump
(with extension .dat).  We will refuse to create the file(s) if they already
exist in the current directory.  Prepend BD(+) to override this policy.
.SH OPTIONAL ARGUMENTS
.TP
OPT(D)
By default, the storage types used in a MGD77+ netCDF file greatly exceed the precision
imposed by the ASCII MGD77 format.  However, for the five items BD(faa), BD(eot),
BD(mag), BD(diur) and BD(msd) we use 2-byte integers with implied precisions of 0.1 mGal,
0.1 nTesla, and 1 m as in the MGD77 format.  It is possible that at some point these items will
need to be stored as 4-byte ints which would allow precisions of 1 fTesla, 1 nGal, and 0.01 mm,
respectively.  This option activates such storage [Default uses 2-byte integers].
.TP
OPT(L)[BD(w)][BD(e)][BD(+)]
Set the level of verification reporting [none] and where to send such reports [stderr].
Append a combination of BD(w) for warnings, BD(e) for errors, and BD(+) to send
such log information to stdout.
#include "explain_-V.txt"
#include "explain_help.txt"
.SH EXAMPLES
To convert 01010047.mgd77 and 01010008.mgd77 to new netCDF .nc files, and
capture all verification messages, try
.br
.sp
BD(mgd77convert) 01010047 01010008 OPT(Fa) OPT(Tc) OPT(V) OPT(Lew+) > log.lis
.br
.sp
To convert 01010047.nc back to MGD77 ASCII and make sure it is identical to the
original file, try (Bourne shell syntax)
.br
.sp
orig=`BD(mgd77path) 01010047 OPT(Ic)`
.br
BD(mgd77convert) 01010047 OPT(Fc) OPT(Ta) OPT(V)
.br
diff $orig 01010047.mgd77
.br
.sp
To convert 01010047.nc to a plain ASCII table for manual editing, overwriting any existing table, try
.br
.sp
BD(mgd77convert) 01010047 OPT(Fc) OPT(T+t) OPT(V)
.br
.sp
To recover the original NGDC MGD77 version of 01020051.nc and ignore any E77 corrections,
use
.br
BD(mgd77convert) 01020051 OPT(FC) OPT(Ta) OPT(V)
.br
.SH FILE FORMATS
BD(mgd77convert) handles three different formats. (1) The MGD77 ASCII tables are
the established standard for distribution of underway geophysical data to and from the
NGDC data center.  Normally, only the ship-operations people and the cruise PI might
be involved in \fImaking\fP an MGD77 ASCII file for transmission to NGDC; users
are more interested in IT(reading) such files. (2) The MGD77+ netCDF format was
developed to fascilitate the use of MGD77 data by scientists.  It contains all the information
of the original MGD77 file and if you convert back and forth you end up with the original.
However, file sizes are typically ~30% of the original ASCII format and is much faster to
operate on. (3) The plain ASCII tab-separated dump is available for users who need to
manually edit the content of a MGD77 file.  This is usually easier to do when the columns
are tab-separated than when they are all crunched together in the MGD77 punch-card format.
.SH OTHER TOOLS
The MGD77+ netCDF files are CF-1.0 and COARDS compliant and can be examined with general-purpose
tools such as ncBrowse and ncView.
.SH "SEE ALSO"
.IR mgd77manage (1),
.IR mgd77list (1),
.IR mgd77sample (1),
.IR mgd77track (1)
.IR x2sys_init (1)
#include "refs.i"
ncBrowse, see \fIhttp://www.epic.noaa.gov/java/ncBrowse/\fP
.br
ncView, see \fIhttp://meteora.ucsd.edu/~pierce/ncview_home_page.html\fP
.br
The Marine Geophysical Data Exchange Format - "MGD77", see
\fIhttp://www.ngdc.noaa.gov/mgg/dat/geodas/docs/mgd77.txt\fP
.br
