#include "common_options.txt"
.TH GRDPROJECT 1 MANDATE GMT_STRING "Generic Mapping Tools"
.SH NAME
grdproject \- Forward and Inverse map transformation of 2-D grid files 
.SH SYNOPSIS
\fBgrdproject\fP \fIin_grdfile\fP OPT(G)\fIout_grdfile\fP GMT_J_OPT
[ OPT(A)[\fBk|m|n|i|c|p\fP] ] [ OPT(C)[\fIdx/dy\fP] ] [ OPT(D)GMT_inc_OPT ] 
[ OPT(E)\fIdpi\fP ] [ OPT(F) ] [ OPT(I) ] 
[ OPT(Mc)|\fBi\fP|\fBm\fP|\fBp\fP ] [ OPT(N)\fInx/ny\fP ] [ GMT_Rgeo_OPT ]
[ OPT(S)[\fB-\fP]\fBb\fP|\fBc\fP|\fBl\fP|\fBn\fP[\fB/\fP\fIthreshold\fP] ]
[ GMT_V_OPT ]
.SH DESCRIPTION
\fBgrdproject\fP will do one of two things depending whether OPT(I) has been set.  If set, it
will transform a gridded data set from a rectangular coordinate system onto a geographical
system by resampling the surface at the new nodes.  If not set, it will project a geographical
gridded data set onto a rectangular grid.  To obtain the value at each new node, its location
is inversely projected back onto the input grid after which a value is interpolated between the
surrounding input grid values. By default bi-cubic interpolation is used.
Aliasing is avoided by also forward projecting the input grid nodes. If two or more nodes are
projected onto the same new node, their average will dominate in the calculation of the new
node value. Interpolation and aliasing is controlled with the OPT(S) option.
The new node spacing may be determined in one of several ways by specifying the grid spacing,
number of nodes, or resolution.  Nodes not constrained by input data are set to NaN.
.br
The OPT(R) option can be used to select a map region larger or smaller than that
implied by the extent of the grid file.
.TP
\fIin_grdfile\fP
2-D binary grid file to be transformed.
.TP
.B \-G
Specify the name of the output netCDF grid file.
#include "explain_-J_short.txt"
.SH OPTIONS
No space between the option flag and the associated arguments.
.TP
.B \-A
Force 1:1 scaling, i.e., output (or input, see \fB\-I\fP) data are in actual projected meters.  To specify other units,
append \fBk\fP (km), \fBm\fP (mile),\fBn\fP (nautical mile), \fBi\fP (inch), \fBc\fP (cm), or \fBp\fP (points).
Without \fB\-A\fP, the output (or input, see \fB\-I\fP) are in the units specified by \fBMEASURE_UNIT\fP (but see \fB\-M\fP).
.TP
.B \-C
Let projected coordinates be relative to projection center [Default is relative to lower left corner].
Optionally, add offsets in the projected units to be added (or subtracted when \fB\-I\fP is set) to (from)
the projected coordinates, such as false eastings and northings for particular projection zones [0/0].
.TP
.B \-D
Set the grid spacing for the new grid.  Append \fBm\fP for minutes, \fBc\fP for seconds.
.TP
.B \-E
Set the resolution for the new grid in dots per inch.
.TP
.B \-F
Toggle between pixel and gridline registration [Default is same as input].
.TP
.B \-I
Do the Inverse transformation, from rectangular to geographical.
.TP
.B \-M
Append \fBc\fP, \fBi\fP, or \fBm\fP to indicate that cm, inch, or meter should be the projected measure unit
[Default is set by \fBMEASURE_UNIT\fP in \.gmtdefaults4].  Cannot be used with \fB\-A\fP.
.TP
.B \-N
Set the number of grid nodes in the new grid.
#include "explain_-R.txt"
You may ask to project only a subset of the grid by specifying a smaller input \fIw/e/s/n\fP region
[Default is the region given by the grid file].
#include "explain_-S.txt"
#include "explain_-V.txt"
.SH EXAMPLES
To transform the geographical grid dbdb5.grd onto a pixel Mercator grid at 300 dpi, run
.br
.sp
\fBgrdproject\fP dbdb5.grd \fB\-R\fP20/50/12/25 \fB\-Jm\fP0.25\fBi\fP \fB\-E\fP300 \fB\-F\fP
\fB\-G\fPdbdb5_merc.grd 
.br
.sp
To inversely transform the file topo_tm.grd back onto a geographical grid, use
.br
.sp
\fBgrdproject\fP topo_tm.grd \fB\-R\fP-80/-70/20/40 \fB\-Jt\fP-75/1:500000 \fB\-I\fP \fB\-D\fP5\fBm \-V\fP \fB\-G\fPtopo.grd
.br
.sp
This assumes, of course, that the coordinates in topo_tm.grd were created with the same projection parameters.
.br
To inversely transform the file topo_utm.grd (which is in UTM meters) back to a geographical grid we
specify a one-to-one mapping with meter as the measure unit:
.br
.sp
\fBgrdproject\fP topo_utm.grd \fB\-R\fP203/205/60/65 \fB\-Ju\fP5/1:1 \fB\-I\fP \fB\-Mm \-V \-G\fPtopo.grd
.br
.SH RESTRICTIONS
The boundaries of a projected (rectangular) data set will not necessarily give rectangular
geographical boundaries (Mercator is one exception).  In those cases some nodes may be unconstrained (set to NaN).
To get a full grid back, your input grid may have to cover a larger area than you are interrested in.
.SH "SEE ALSO"
.IR GMT (1),
.IR gmtdefaults (1),
.IR mapproject (1)
