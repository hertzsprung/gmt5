%-	$Id: PSL_prologue.ps,v 1.16 2008-04-17 18:07:45 remko Exp $
% Begin pslib header
250 dict begin
/! {bind def} bind def
/# {load def}!
/A /setgray #
/B /setdash #
/C /setrgbcolor #
/D /rlineto #
/E {dup stringwidth pop}!
/F /fill #
/G /rmoveto #
/H /sethsbcolor #
/I /setpattern #
/K /setcmykcolor #
/L /lineto #
/M {stroke moveto}!
/m {moveto}!
/N /newpath #
/P /closepath #
/R /rotate #
/S /stroke #
/T /translate #
/U /grestore #
/V /gsave #
/W /setlinewidth #
/Y {findfont exch scalefont setfont}!
/Z /show #
/FP {true charpath flattenpath}!
/YP {FP pathbbox N exch pop sub abs exch pop}!
% Point
/O {M W 0 0 D S}!
% Cross
/X {M dup 0 D dup 2 div neg dup G 0 exch D S}!
% Path fill (lower case second letter with outline)
/QA {P V A F U N}! /QC {P V C F U N}! /QK {P V K F U N}! /QH {P V H F U N}! /QI {P V I F U N}! /QQ {P S}!
/Qa {P V A F U S}! /Qc {P V C F U S}! /Qk {P V K F U S}! /Qh {P V H F U S}! /Qi {P V I F U S}!
% Patch fill
/q0 {M {D} repeat}!
/qA {q0 QA}! /qC {q0 QC}! /qK {q0 QK}! /qH {q0 QH}! /qI {q0 QI}! /qQ {q0 QQ}!
/qa {q0 Qa}! /qc {q0 Qc}! /qk {q0 Qk}! /qh {q0 Qh}! /qi {q0 Qi}!
% Single-headed vector
/V0 {0 exch M 0 D D D D D 0 D}!
/VA {V0 QA}! /VC {V0 QC}! /VK {V0 QK}! /VH {V0 QH}! /VI {V0 QI}! /VQ {V0 QQ}!
/Va {V0 Qa}! /Vc {V0 Qc}! /Vk {V0 Qk}! /Vh {V0 Qh}! /Vi {V0 Qi}!
% Double-headed vector
/v0 {0 0 M D D 0 D D D D D 0 D D}!
/vA {v0 QA}! /vC {v0 QC}! /vK {v0 QK}! /vH {v0 QH}! /vI {v0 QI}! /vQ {v0 QQ}!
/va {v0 Qa}! /vc {v0 Qc}! /vk {v0 Qk}! /vh {v0 Qh}! /vi {v0 Qi}!
% Box
/B0 {M dup 0 D exch 0 exch D neg 0 D}!
/BA {B0 QA}! /BC {B0 QC}! /BK {B0 QK}! /BH {B0 QH}! /BI {B0 QI}! /BQ {B0 QQ}!
/Ba {B0 Qa}! /Bc {B0 Qc}! /Bk {B0 Qk}! /Bh {B0 Qh}! /Bi {B0 Qi}!
% Circle
/CA {0 360 arc V A F U N}! /Ca {0 360 arc V A F U S}!
/CC {0 360 arc V C F U N}! /Cc {0 360 arc V C F U S}!
/CK {0 360 arc V K F U N}! /Ck {0 360 arc V K F U S}!
/CH {0 360 arc V H F U N}! /Ch {0 360 arc V H F U S}!
/CI {0 360 arc V I F U N}! /Ci {0 360 arc V I F U S}!
/CQ {0 360 arc S}!
% Diamond
/D0 {M 4 {dup} repeat 0 G neg dup dup D exch D D}!
/DA {D0 QA}! /DC {D0 QC}! /DK {D0 QK}! /DH {D0 QH}! /DI {D0 QI}! /DQ {D0 QQ}!
/Da {D0 Qa}! /Dc {D0 Qc}! /Dk {D0 Qk}! /Dh {D0 Qh}! /Di {D0 Qi}!
% Rectangle
/R0 {M V R dup -2 div 0 G exch dup -2 div 0 exch G exch dup 0 D exch 0 exch D neg 0 D}!
/RA {R0 QA U}! /RC {R0 QC U}! /RK {R0 QK U}! /RH {R0 QH U}! /RI {R0 QI U}! /RQ {R0 QQ U}!
/Ra {R0 Qa U}! /Rc {R0 Qc U}! /Rk {R0 Qk U}! /Rh {R0 Qh U}! /Ri {R0 Qi U}!
% Square
/S0 {M 1.414213562 mul dup dup dup -2 div dup G 0 D 0 exch D neg 0 D}!
/SA {S0 QA}! /SC {S0 QC}! /SK {S0 QK}! /SH {S0 QH}! /SI {S0 QI}! /SQ {S0 QQ}!
/Sa {S0 Qa}! /Sc {S0 Qc}! /Sk {S0 Qk}! /Sh {S0 Qh}! /Si {S0 Qi}!
% Triangle
/T0 {M V dup 0 exch G -60 R 1.732050808 mul dup 0 D -120 R 0 D}!
/TA {T0 QA U}! /TC {T0 QC U}! /TK {T0 QK U}! /TH {T0 QH U}! /TI {T0 QI U}! /TQ {T0 QQ U}!
/Ta {T0 Qa U}! /Tc {T0 Qc U}! /Tk {T0 Qk U}! /Th {T0 Qh U}! /Ti {T0 Qi U}!
% Inverted triangle
/I0 {M V dup neg 0 exch G 60 R 1.732050808 mul dup 0 D 120 R 0 D}!
/IA {I0 QA U}! /IC {I0 QC U}! /IK {I0 QK U}! /IH {I0 QH U}! /II {I0 QI U}! /IQ {I0 QQ U}!
/Ia {I0 Qa U}! /Ic {I0 Qc U}! /Ik {I0 Qk U}! /Ih {I0 Qh U}! /Ii {I0 Qi U}!
% Star
/A0 {M V dup 0 exch G 0.726542528 mul -72 R dup 0 D 4 {72 R dup 0 D -144 R dup 0 D} repeat pop}!
/AA {A0 QA U}! /AC {A0 QC U}! /AK {A0 QK U}! /AH {A0 QH U}! /AI {A0 QI U}! /AQ {A0 QQ U}!
/Aa {A0 Qa U}! /Ac {A0 Qc U}! /Ak {A0 Qk U}! /Ah {A0 Qh U}! /Ai {A0 Qi U}!
% Hexagon
/H0 {M V dup 0 G -120 R dup 0 D 4 {-60 R dup 0 D} repeat pop}!
/HA {H0 QA U}! /HC {H0 QC U}! /HK {H0 QK U}! /HH {H0 QH U}! /HI {H0 QI U}! /HQ {H0 QQ U}!
/Ha {H0 Qa U}! /Hc {H0 Qc U}! /Hk {H0 Qk U}! /Hh {H0 Qh U}! /Hi {H0 Qi U}!
% Pentagon
/N0 {M V dup 0 exch G -36 R 1.175570505 mul dup 0 D 3 {-72 R dup 0 D} repeat pop}!
/NA {N0 QA U}! /NC {N0 QC U}! /NK {N0 QK U}! /NH {N0 QH U}! /NI {N0 QI U}! /NQ {N0 QQ U}!
/Na {N0 Qa U}! /Nc {N0 Qc U}! /Nk {N0 Qk U}! /Nh {N0 Qh U}! /Ni {N0 Qi U}!
% Octagon
/O0 {M V 22.5 R dup 0 exch G -22.5 R 0.765366865 mul dup 0 D 6 {-45 R dup 0 D} repeat pop}!
/OA {O0 QA U}! /OC {O0 QC U}! /OK {O0 QK U}! /OH {O0 QH U}! /OI {O0 QI U}! /OQ {O0 QQ U}!
/Oa {O0 Qa U}! /Oc {O0 Qc U}! /Ok {O0 Qk U}! /Oh {O0 Qh U}! /Oi {O0 Qi U}!
% Pie Wedge
/WA {arc QA}! /WC {arc QC}! /WK {arc QK}! /WH {arc QH}! /WI {arc QI}! /WQ {arc QQ}!
/Wa {arc Qa}! /Wc {arc Qc}! /Wk {arc Qk}! /Wh {arc Qh}! /Wi {arc Qi}!
% To reencode one font with the provided encoding vector
/PSL_reencode { findfont dup length dict begin
  {1 index /FID ne {def}{pop pop} ifelse} forall
  exch /Encoding exch def currentdict end definefont pop
}!
